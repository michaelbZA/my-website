<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Python Mastery on Michael Brunger</title><link>https://michaelbrunger.com/series/python-mastery/</link><description>Recent content in Python Mastery on Michael Brunger</description><image><title>Michael Brunger</title><url>https://michaelbrunger.com/site-feature-image.jpg</url><link>https://michaelbrunger.com/site-feature-image.jpg</link></image><generator>Hugo -- 0.146.7</generator><language>en-GB</language><lastBuildDate>Fri, 13 Jun 2025 13:53:27 +0100</lastBuildDate><atom:link href="https://michaelbrunger.com/series/python-mastery/index.xml" rel="self" type="application/rss+xml"/><item><title>Part 8: Testing &amp; Debugging Python Code</title><link>https://michaelbrunger.com/python-testing-debugging/</link><pubDate>Thu, 19 Jun 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-testing-debugging/</guid><description>Master unit testing with unittest and pytest, learn Test-Driven Development workflows, handle custom exceptions, use the debugger effectively, and implement structured logging.</description><content:encoded><![CDATA[<h1 id="testing--debugging-building-reliable-financial-tools">Testing &amp; Debugging: Building Reliable Financial Tools</h1>
<p>When working with financial data and calculations, accuracy is essential. A small bug in your code could mean reporting incorrect figures, making flawed investment decisions, or even compliance issues. This post will guide you through testing and debugging techniques that ensure your financial Python code works correctly and reliably.</p>
<h2 id="why-testing-matters-in-finance">Why Testing Matters in Finance</h2>
<p>Imagine you&rsquo;ve created a Python script that calculates loan amortisation schedules. Your company uses this tool to price thousands of loans. If there&rsquo;s an error in your interest calculation logic, even a small one, the financial impact could be enormous.</p>
<p>As a finance professional, you need confidence in your code. Testing provides that confidence by systematically verifying that your calculations work correctly across a range of scenarios and edge cases.</p>
<h2 id="unit-testing-basics">Unit Testing Basics</h2>
<p>Unit testing involves testing individual components (usually functions) in isolation to ensure they work as expected.</p>
<h3 id="getting-started-with-unittest">Getting Started with unittest</h3>
<p>Python&rsquo;s built-in <code>unittest</code> framework provides all the tools you need for basic testing. Let&rsquo;s test our financial ratio calculator from the previous post:</p>
<p>First, create a file called <code>test_ratio_calculator.py</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> unittest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> ratio_calculator <span style="color:#f92672">import</span> calculate_current_ratio, calculate_debt_to_equity
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestFinancialRatios</span>(unittest<span style="color:#f92672">.</span>TestCase):
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_current_ratio</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test basic calculation</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(calculate_current_ratio(<span style="color:#ae81ff">100000</span>, <span style="color:#ae81ff">50000</span>), <span style="color:#ae81ff">2.0</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test with zero liabilities - should raise ValueError</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">with</span> self<span style="color:#f92672">.</span>assertRaises(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>            calculate_current_ratio(<span style="color:#ae81ff">100000</span>, <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_debt_to_equity</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test basic calculation</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(calculate_debt_to_equity(<span style="color:#ae81ff">200000</span>, <span style="color:#ae81ff">400000</span>), <span style="color:#ae81ff">0.5</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test highly leveraged company</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>assertEqual(calculate_debt_to_equity(<span style="color:#ae81ff">800000</span>, <span style="color:#ae81ff">200000</span>), <span style="color:#ae81ff">4.0</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test with zero equity - should raise ValueError</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">with</span> self<span style="color:#f92672">.</span>assertRaises(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>            calculate_debt_to_equity(<span style="color:#ae81ff">100000</span>, <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    unittest<span style="color:#f92672">.</span>main()
</span></span></code></pre></div><p>Run the tests with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python test_ratio_calculator.py
</span></span></code></pre></div><p>If all tests pass, you&rsquo;ll see something like:</p>
<pre tabindex="0"><code>..
----------------------------------------------------------------------
Ran 2 tests in 0.001s

OK
</code></pre><p>If a test fails, <code>unittest</code> will tell you which test failed and why, helping you pinpoint the issue.</p>
<h3 id="common-assertions-in-unittest">Common Assertions in unittest</h3>
<p>Here are some assertions particularly useful for financial calculations:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Checking exact equality</span>
</span></span><span style="display:flex;"><span>self<span style="color:#f92672">.</span>assertEqual(calculate_npv(cash_flows, <span style="color:#ae81ff">0.1</span>), <span style="color:#ae81ff">1025.79</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Checking approximate equality (for floating point calculations)</span>
</span></span><span style="display:flex;"><span>self<span style="color:#f92672">.</span>assertAlmostEqual(calculate_irr([<span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">600</span>]), <span style="color:#ae81ff">0.0734</span>, places<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Checking if a value is greater than another</span>
</span></span><span style="display:flex;"><span>self<span style="color:#f92672">.</span>assertGreater(calculate_profit_margin(revenue, costs), <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Checking if an exception is raised for invalid inputs</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> self<span style="color:#f92672">.</span>assertRaises(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>    calculate_pe_ratio(stock_price<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>, earnings_per_share<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><h2 id="moving-to-pytest">Moving to pytest</h2>
<p>While <code>unittest</code> is perfectly capable, <code>pytest</code> offers a more modern and flexible approach to testing. Let&rsquo;s see how we might test the same functions with <code>pytest</code>:</p>
<ol>
<li>Install pytest:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install pytest
</span></span></code></pre></div><ol start="2">
<li>Create a file named <code>test_ratios_pytest.py</code>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pytest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> ratio_calculator <span style="color:#f92672">import</span> calculate_current_ratio, calculate_debt_to_equity
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_current_ratio_basic</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> calculate_current_ratio(<span style="color:#ae81ff">100000</span>, <span style="color:#ae81ff">50000</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_current_ratio_zero_liabilities</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> pytest<span style="color:#f92672">.</span>raises(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>        calculate_current_ratio(<span style="color:#ae81ff">100000</span>, <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_debt_to_equity_basic</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> calculate_debt_to_equity(<span style="color:#ae81ff">200000</span>, <span style="color:#ae81ff">400000</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_debt_to_equity_high_leverage</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> calculate_debt_to_equity(<span style="color:#ae81ff">800000</span>, <span style="color:#ae81ff">200000</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">4.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_debt_to_equity_zero_equity</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> pytest<span style="color:#f92672">.</span>raises(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>        calculate_debt_to_equity(<span style="color:#ae81ff">100000</span>, <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><ol start="3">
<li>Run the tests:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pytest test_ratios_pytest.py -v
</span></span></code></pre></div><p>The <code>-v</code> flag gives you verbose output showing each test that was run.</p>
<h3 id="the-power-of-pytest-fixtures">The Power of pytest Fixtures</h3>
<p>One of pytest&rsquo;s most powerful features is fixtures, which let you set up preconditions for your tests. This is especially useful for financial testing where you might have complex data structures:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pytest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> financial_analyzer <span style="color:#f92672">import</span> StockAnalyzer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@pytest.fixture</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sample_stock_data</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Return a sample dataset that can be used by multiple tests</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;ticker&#39;</span>: <span style="color:#e6db74">&#39;AAPL&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;prices&#39;</span>: [<span style="color:#ae81ff">150.25</span>, <span style="color:#ae81ff">151.30</span>, <span style="color:#ae81ff">149.80</span>, <span style="color:#ae81ff">152.50</span>, <span style="color:#ae81ff">153.75</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;volumes&#39;</span>: [<span style="color:#ae81ff">12345678</span>, <span style="color:#ae81ff">9876543</span>, <span style="color:#ae81ff">11234567</span>, <span style="color:#ae81ff">10234567</span>, <span style="color:#ae81ff">13456789</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;financials&#39;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;revenue&#39;</span>: <span style="color:#ae81ff">365.82</span>,  <span style="color:#75715e"># In billions</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;net_income&#39;</span>: <span style="color:#ae81ff">94.68</span>,  <span style="color:#75715e"># In billions</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;total_assets&#39;</span>: <span style="color:#ae81ff">351.0</span>,  <span style="color:#75715e"># In billions</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;total_liabilities&#39;</span>: <span style="color:#ae81ff">287.91</span>,  <span style="color:#75715e"># In billions</span>
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;shareholders_equity&#39;</span>: <span style="color:#ae81ff">63.09</span>  <span style="color:#75715e"># In billions</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_pe_ratio_calculation</span>(sample_stock_data):
</span></span><span style="display:flex;"><span>    analyzer <span style="color:#f92672">=</span> StockAnalyzer(sample_stock_data)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Assuming current price is the last in the list and EPS is net_income / outstanding_shares</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># For this example, let&#39;s say outstanding_shares is 16.07B</span>
</span></span><span style="display:flex;"><span>    expected_pe <span style="color:#f92672">=</span> <span style="color:#ae81ff">150.25</span> <span style="color:#f92672">/</span> (<span style="color:#ae81ff">94.68</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">16.07</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> round(analyzer<span style="color:#f92672">.</span>calculate_pe_ratio(), <span style="color:#ae81ff">2</span>) <span style="color:#f92672">==</span> round(expected_pe, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_debt_to_equity_ratio</span>(sample_stock_data):
</span></span><span style="display:flex;"><span>    analyzer <span style="color:#f92672">=</span> StockAnalyzer(sample_stock_data)
</span></span><span style="display:flex;"><span>    expected_ratio <span style="color:#f92672">=</span> <span style="color:#ae81ff">287.91</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">63.09</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> round(analyzer<span style="color:#f92672">.</span>calculate_debt_to_equity(), <span style="color:#ae81ff">2</span>) <span style="color:#f92672">==</span> round(expected_ratio, <span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><p>This way, you set up your test data once and reuse it across multiple tests.</p>
<h3 id="parameterised-tests-for-multiple-scenarios">Parameterised Tests for Multiple Scenarios</h3>
<p>Financial calculations often need to be tested with multiple sets of inputs. Pytest&rsquo;s parameterisation makes this elegant:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pytest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> finance_calcs <span style="color:#f92672">import</span> calculate_compound_interest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@pytest.mark.parametrize</span>(<span style="color:#e6db74">&#34;principal,rate,time,compounding,expected&#34;</span>, [
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1276.28</span>),    <span style="color:#75715e"># Annual compounding</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">1283.36</span>),   <span style="color:#75715e"># Monthly compounding</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">365</span>, <span style="color:#ae81ff">1284.52</span>),  <span style="color:#75715e"># Daily compounding</span>
</span></span><span style="display:flex;"><span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_compound_interest</span>(principal, rate, time, compounding, expected):
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> calculate_compound_interest(principal, rate, time, compounding)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> round(result, <span style="color:#ae81ff">2</span>) <span style="color:#f92672">==</span> expected
</span></span></code></pre></div><p>This tests our compound interest function with annual, monthly, and daily compounding periods, all in a single test function.</p>
<h2 id="test-driven-development-tdd-for-finance">Test-Driven Development (TDD) for Finance</h2>
<p>Test-Driven Development is a methodology where you write tests before you write code. For financial calculations, this approach can be particularly beneficial:</p>
<ol>
<li><strong>Write the test first</strong>: Define what your function should do before implementing it</li>
<li><strong>Run the test and watch it fail</strong>: Confirm the test works</li>
<li><strong>Write the implementation</strong>: Create the function to make the test pass</li>
<li><strong>Run the test again</strong>: Verify your implementation works</li>
<li><strong>Refactor</strong>: Clean up your code while ensuring tests continue to pass</li>
</ol>
<h3 id="a-tdd-example-calculating-ebitda">A TDD Example: Calculating EBITDA</h3>
<p>Let&rsquo;s say we need to add an EBITDA calculation function. Following TDD:</p>
<ol>
<li>First, write the test:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># test_financial_metrics.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pytest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> financial_metrics <span style="color:#f92672">import</span> calculate_ebitda
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_calculate_ebitda</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># EBITDA = Net Income + Interest + Taxes + Depreciation + Amortisation</span>
</span></span><span style="display:flex;"><span>    income_statement <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;net_income&#39;</span>: <span style="color:#ae81ff">1000000</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;interest_expense&#39;</span>: <span style="color:#ae81ff">200000</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;income_tax&#39;</span>: <span style="color:#ae81ff">300000</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;depreciation&#39;</span>: <span style="color:#ae81ff">150000</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;amortisation&#39;</span>: <span style="color:#ae81ff">50000</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    expected_ebitda <span style="color:#f92672">=</span> <span style="color:#ae81ff">1700000</span>  <span style="color:#75715e"># Sum of all the components</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> calculate_ebitda(income_statement) <span style="color:#f92672">==</span> expected_ebitda
</span></span></code></pre></div><ol start="2">
<li>Run the test (it will fail since we haven&rsquo;t implemented the function yet):</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pytest test_financial_metrics.py
</span></span></code></pre></div><ol start="3">
<li>Implement the function:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># financial_metrics.py</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_ebitda</span>(income_statement):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate EBITDA from income statement components.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        income_statement (dict): Dictionary containing income statement items
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        float: EBITDA value
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>        income_statement[<span style="color:#e6db74">&#39;net_income&#39;</span>] <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        income_statement[<span style="color:#e6db74">&#39;interest_expense&#39;</span>] <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        income_statement[<span style="color:#e6db74">&#39;income_tax&#39;</span>] <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        income_statement[<span style="color:#e6db74">&#39;depreciation&#39;</span>] <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        income_statement[<span style="color:#e6db74">&#39;amortisation&#39;</span>]
</span></span><span style="display:flex;"><span>    )
</span></span></code></pre></div><ol start="4">
<li>Run the test again - it should pass now!</li>
</ol>
<h2 id="debugging-financial-code">Debugging Financial Code</h2>
<p>Even with tests, bugs will sometimes creep into your code. Let&rsquo;s explore techniques to find and fix them.</p>
<h3 id="print-driven-debugging">Print-Driven Debugging</h3>
<p>The simplest debugging technique is adding <code>print()</code> statements to your code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_loan_payment</span>(principal, annual_rate, years):
</span></span><span style="display:flex;"><span>    monthly_rate <span style="color:#f92672">=</span> annual_rate <span style="color:#f92672">/</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Monthly rate: </span><span style="color:#e6db74">{</span>monthly_rate<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    num_payments <span style="color:#f92672">=</span> years <span style="color:#f92672">*</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Number of payments: </span><span style="color:#e6db74">{</span>num_payments<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    payment <span style="color:#f92672">=</span> principal <span style="color:#f92672">*</span> (monthly_rate <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> monthly_rate) <span style="color:#f92672">**</span> num_payments) <span style="color:#f92672">/</span> \
</span></span><span style="display:flex;"><span>              ((<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> monthly_rate) <span style="color:#f92672">**</span> num_payments <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Calculated payment: </span><span style="color:#e6db74">{</span>payment<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> payment
</span></span></code></pre></div><p>While simple, this approach can be effective for quick debugging sessions.</p>
<h3 id="using-pythons-built-in-debugger-pdb">Using Python&rsquo;s Built-in Debugger (pdb)</h3>
<p>For more complex issues, Python&rsquo;s debugger (pdb) gives you interactive control:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">analyze_portfolio</span>(holdings):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">import</span> pdb; pdb<span style="color:#f92672">.</span>set_trace()  <span style="color:#75715e"># Debugger will start here</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    total_value <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> ticker, data <span style="color:#f92672">in</span> holdings<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>        shares <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;shares&#39;</span>]
</span></span><span style="display:flex;"><span>        price <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;current_price&#39;</span>]
</span></span><span style="display:flex;"><span>        position_value <span style="color:#f92672">=</span> shares <span style="color:#f92672">*</span> price
</span></span><span style="display:flex;"><span>        total_value <span style="color:#f92672">+=</span> position_value
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total_value
</span></span></code></pre></div><p>When this code runs, it will pause at the <code>pdb.set_trace()</code> line and drop you into an interactive debugger. Common commands include:</p>
<ul>
<li><code>n</code> (next): Execute the current line and move to the next one</li>
<li><code>s</code> (step): Step into a function call</li>
<li><code>c</code> (continue): Continue execution until the next breakpoint</li>
<li><code>p variable_name</code>: Print the value of a variable</li>
<li><code>q</code> (quit): Exit the debugger</li>
</ul>
<h3 id="ide-based-debugging">IDE-Based Debugging</h3>
<p>Most modern IDEs offer powerful visual debugging:</p>
<ol>
<li>Set a breakpoint by clicking in the margin next to your code</li>
<li>Start the debugger (usually with a &ldquo;Debug&rdquo; button)</li>
<li>The program will pause at your breakpoint</li>
<li>Examine variables, step through code, and find issues</li>
</ol>
<p>This is particularly useful for financial applications where you need to inspect complex data structures or track down calculation errors.</p>
<h3 id="common-financial-code-bugs">Common Financial Code Bugs</h3>
<p>Watch out for these common issues in financial code:</p>
<ol>
<li><strong>Rounding errors</strong>: Financial calculations often require precise decimal handling</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Problematic: Floating point imprecision</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0.1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.2</span>  <span style="color:#75715e"># Returns 0.30000000000000004</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Better: Use Decimal for financial calculations</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> decimal <span style="color:#f92672">import</span> Decimal
</span></span><span style="display:flex;"><span>Decimal(<span style="color:#e6db74">&#39;0.1&#39;</span>) <span style="color:#f92672">+</span> Decimal(<span style="color:#e6db74">&#39;0.2&#39;</span>)  <span style="color:#75715e"># Returns Decimal(&#39;0.3&#39;)</span>
</span></span></code></pre></div><ol start="2">
<li><strong>Off-by-one errors in time periods</strong>: Check if your code correctly handles time period boundaries</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Is this calculating 29 or 30 days of interest?</span>
</span></span><span style="display:flex;"><span>days_in_month <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>daily_interest <span style="color:#f92672">=</span> principal <span style="color:#f92672">*</span> (annual_rate <span style="color:#f92672">/</span> <span style="color:#ae81ff">365</span>)
</span></span><span style="display:flex;"><span>total_interest <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Potential off-by-one error</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> day <span style="color:#f92672">in</span> range(days_in_month):  <span style="color:#75715e"># This gives 0-29, so only 30 days</span>
</span></span><span style="display:flex;"><span>    total_interest <span style="color:#f92672">+=</span> daily_interest
</span></span></code></pre></div><ol start="3">
<li><strong>Negative input validation</strong>: Financial functions often have domain restrictions</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_loan_payment</span>(principal, rate, years):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Validate inputs</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> principal <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Principal must be positive&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> rate <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Interest rate cannot be negative&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> years <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Loan term must be positive&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Rest of the calculation</span>
</span></span></code></pre></div><h2 id="custom-exceptions-for-financial-validation">Custom Exceptions for Financial Validation</h2>
<p>Creating custom exceptions helps make your financial code more robust and self-documenting:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NegativePrincipalError</span>(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Raised when a negative principal amount is provided&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ZeroDivisionFinancialError</span>(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Raised when a financial calculation would result in division by zero&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_return_on_investment</span>(gain, cost):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate ROI: (Gain - Cost) / Cost
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        gain (float): The amount gained from the investment
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cost (float): The cost of the investment
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        float: ROI as a decimal
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Raises:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        NegativePrincipalError: If cost is negative
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        ZeroDivisionFinancialError: If cost is zero
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> cost <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> NegativePrincipalError(<span style="color:#e6db74">&#34;Investment cost cannot be negative&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> cost <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> ZeroDivisionFinancialError(<span style="color:#e6db74">&#34;Cannot calculate ROI with zero cost&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (gain <span style="color:#f92672">-</span> cost) <span style="color:#f92672">/</span> cost
</span></span></code></pre></div><p>These custom exceptions make error handling clearer and provide better feedback to users of your code.</p>
<h2 id="structured-logging-for-financial-applications">Structured Logging for Financial Applications</h2>
<p>For production financial applications, proper logging is essential for auditing and debugging:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> logging
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set up logging</span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>basicConfig(
</span></span><span style="display:flex;"><span>    filename<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;financial_calculations.log&#39;</span>,
</span></span><span style="display:flex;"><span>    level<span style="color:#f92672">=</span>logging<span style="color:#f92672">.</span>INFO,
</span></span><span style="display:flex;"><span>    format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%(asctime)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(name)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(levelname)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(message)s</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_mortgage_payment</span>(principal, rate, years):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Calculate monthly mortgage payment&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Calculating mortgage payment: principal=</span><span style="color:#e6db74">{</span>principal<span style="color:#e6db74">}</span><span style="color:#e6db74">, rate=</span><span style="color:#e6db74">{</span>rate<span style="color:#e6db74">}</span><span style="color:#e6db74">, years=</span><span style="color:#e6db74">{</span>years<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        monthly_rate <span style="color:#f92672">=</span> rate <span style="color:#f92672">/</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>        num_payments <span style="color:#f92672">=</span> years <span style="color:#f92672">*</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> monthly_rate <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            payment <span style="color:#f92672">=</span> principal <span style="color:#f92672">/</span> num_payments
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            payment <span style="color:#f92672">=</span> principal <span style="color:#f92672">*</span> (monthly_rate <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> monthly_rate) <span style="color:#f92672">**</span> num_payments) <span style="color:#f92672">/</span> \
</span></span><span style="display:flex;"><span>                      ((<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> monthly_rate) <span style="color:#f92672">**</span> num_payments <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Calculated payment: </span><span style="color:#e6db74">{</span>payment<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> payment
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        logging<span style="color:#f92672">.</span>error(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Error calculating mortgage payment: </span><span style="color:#e6db74">{</span>str(e)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span>
</span></span></code></pre></div><p>This creates a log file with timestamped entries that can be invaluable for tracking down issues in complex financial applications.</p>
<h3 id="logging-levels">Logging Levels</h3>
<p>Different logging levels serve different purposes:</p>
<ul>
<li><code>logging.DEBUG</code>: Detailed information, typically useful only for diagnosing problems</li>
<li><code>logging.INFO</code>: Confirmation that things are working as expected</li>
<li><code>logging.WARNING</code>: Indication that something unexpected happened, but the program is still working</li>
<li><code>logging.ERROR</code>: Due to a more serious problem, the program couldn&rsquo;t perform a function</li>
<li><code>logging.CRITICAL</code>: A serious error indicating the program may be unable to continue running</li>
</ul>
<p>For financial applications, consider using these levels to differentiate between routine calculations and potential issues:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">analyze_investment_portfolio</span>(portfolio):
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Analyzing portfolio with </span><span style="color:#e6db74">{</span>len(portfolio)<span style="color:#e6db74">}</span><span style="color:#e6db74"> positions&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> position <span style="color:#f92672">in</span> portfolio:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Log routine information</span>
</span></span><span style="display:flex;"><span>        logging<span style="color:#f92672">.</span>debug(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Processing position: </span><span style="color:#e6db74">{</span>position[<span style="color:#e6db74">&#39;ticker&#39;</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Log potential concerns</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> position[<span style="color:#e6db74">&#39;allocation&#39;</span>] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.20</span>:  <span style="color:#75715e"># More than 20% in single position</span>
</span></span><span style="display:flex;"><span>            logging<span style="color:#f92672">.</span>warning(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;High concentration in </span><span style="color:#e6db74">{</span>position[<span style="color:#e6db74">&#39;ticker&#39;</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">{</span>position[<span style="color:#e6db74">&#39;allocation&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.1%</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Log serious issues</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> position[<span style="color:#e6db74">&#39;value&#39;</span>] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            logging<span style="color:#f92672">.</span>error(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Negative position value for </span><span style="color:#e6db74">{</span>position[<span style="color:#e6db74">&#39;ticker&#39;</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">{</span>position[<span style="color:#e6db74">&#39;value&#39;</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h3 id="handling-sensitive-financial-data-in-logs">Handling Sensitive Financial Data in Logs</h3>
<p>Be careful not to log sensitive financial information:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># BAD: Logging personal financial data</span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Processing transaction for account </span><span style="color:#e6db74">{</span>account_number<span style="color:#e6db74">}</span><span style="color:#e6db74">, balance: </span><span style="color:#e6db74">{</span>balance<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># GOOD: Log only what&#39;s necessary without exposing private data</span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Processing transaction for account ending in </span><span style="color:#e6db74">{</span>account_number[<span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>:]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h2 id="putting-it-all-together-a-complete-financial-testing-example">Putting It All Together: A Complete Financial Testing Example</h2>
<p>Let&rsquo;s bring everything together with a complete example for a financial calculator module:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># financial_calculator.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> decimal <span style="color:#f92672">import</span> Decimal
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> logging
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set up logging</span>
</span></span><span style="display:flex;"><span>logging<span style="color:#f92672">.</span>basicConfig(
</span></span><span style="display:flex;"><span>    filename<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;financial_calculator.log&#39;</span>,
</span></span><span style="display:flex;"><span>    level<span style="color:#f92672">=</span>logging<span style="color:#f92672">.</span>INFO,
</span></span><span style="display:flex;"><span>    format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%(asctime)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(name)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(levelname)s</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">%(message)s</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FinancialError</span>(<span style="color:#a6e22e">Exception</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Base class for financial calculation errors&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NegativeValueError</span>(FinancialError):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Raised when a negative value is provided where it&#39;s not allowed&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ZeroValueError</span>(FinancialError):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Raised when a zero value is provided where it&#39;s not allowed&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">npv</span>(cash_flows, discount_rate):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Net Present Value for a series of cash flows.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cash_flows (list): List of cash flows where the first element is typically negative (investment)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        discount_rate (float): Annual discount rate as a decimal (e.g., 0.1 for 10%)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Decimal: Net Present Value rounded to 2 decimal places
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Raises:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        TypeError: If inputs are not in the expected format
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        ValueError: If discount_rate is less than -1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Calculating NPV with discount rate: </span><span style="color:#e6db74">{</span>discount_rate<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>debug(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Cash flows: </span><span style="color:#e6db74">{</span>cash_flows<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> isinstance(cash_flows, (list, tuple)):
</span></span><span style="display:flex;"><span>        logging<span style="color:#f92672">.</span>error(<span style="color:#e6db74">&#34;Cash flows must be a list or tuple&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">TypeError</span>(<span style="color:#e6db74">&#34;Cash flows must be a list or tuple&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> all(isinstance(cf, (int, float, Decimal)) <span style="color:#66d9ef">for</span> cf <span style="color:#f92672">in</span> cash_flows):
</span></span><span style="display:flex;"><span>        logging<span style="color:#f92672">.</span>error(<span style="color:#e6db74">&#34;All cash flows must be numeric&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">TypeError</span>(<span style="color:#e6db74">&#34;All cash flows must be numeric&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> discount_rate <span style="color:#f92672">&lt;</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        logging<span style="color:#f92672">.</span>error(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Invalid discount rate: </span><span style="color:#e6db74">{</span>discount_rate<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Discount rate cannot be less than -100%&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Convert to Decimal for precise financial calculations</span>
</span></span><span style="display:flex;"><span>    npv_value <span style="color:#f92672">=</span> Decimal(<span style="color:#e6db74">&#39;0&#39;</span>)
</span></span><span style="display:flex;"><span>    rate <span style="color:#f92672">=</span> Decimal(str(discount_rate))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i, cf <span style="color:#f92672">in</span> enumerate(cash_flows):
</span></span><span style="display:flex;"><span>        cf_decimal <span style="color:#f92672">=</span> Decimal(str(cf))
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Initial cash flow isn&#39;t discounted</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            npv_value <span style="color:#f92672">+=</span> cf_decimal
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            npv_value <span style="color:#f92672">+=</span> cf_decimal <span style="color:#f92672">/</span> (Decimal(<span style="color:#e6db74">&#39;1&#39;</span>) <span style="color:#f92672">+</span> rate) <span style="color:#f92672">**</span> Decimal(str(i))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;NPV calculation result: </span><span style="color:#e6db74">{</span>npv_value<span style="color:#f92672">.</span>quantize(Decimal(<span style="color:#e6db74">&#39;0.01&#39;</span>))<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> npv_value<span style="color:#f92672">.</span>quantize(Decimal(<span style="color:#e6db74">&#39;0.01&#39;</span>))  <span style="color:#75715e"># Round to 2 decimal places</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">irr</span>(cash_flows, guess<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>, tolerance<span style="color:#f92672">=</span><span style="color:#ae81ff">0.0001</span>, max_iterations<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Internal Rate of Return for a series of cash flows.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cash_flows (list): List of cash flows where the first element is typically negative
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        guess (float): Initial guess for IRR
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        tolerance (float): The calculation will stop when the result is within this tolerance
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        max_iterations (int): Maximum number of iterations to perform
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        float: The internal rate of return as a decimal
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Raises:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        ValueError: If calculation doesn&#39;t converge
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Implementation using Newton&#39;s method</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># (Full implementation would go here)</span>
</span></span><span style="display:flex;"><span>    logging<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#34;IRR calculation requested&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Simplified example return for brevity</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0.1548</span>
</span></span></code></pre></div><p>And here&rsquo;s how we would test this module:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># test_financial_calculator.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pytest
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> decimal <span style="color:#f92672">import</span> Decimal
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> financial_calculator <span style="color:#f92672">import</span> npv, irr, NegativeValueError, ZeroValueError
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestNPV</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_basic_npv_calculation</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Initial investment of 1000, followed by 4 annual returns</span>
</span></span><span style="display:flex;"><span>        cash_flows <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">300</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> npv(cash_flows, <span style="color:#ae81ff">0.1</span>) <span style="color:#f92672">==</span> Decimal(<span style="color:#e6db74">&#39;152.92&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_npv_with_all_positive_values</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># All positive cash flows (unusual but mathematically valid)</span>
</span></span><span style="display:flex;"><span>        cash_flows <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">500</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> npv(cash_flows, <span style="color:#ae81ff">0.1</span>) <span style="color:#f92672">&gt;</span> Decimal(<span style="color:#e6db74">&#39;1000&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_npv_with_high_discount_rate</span>(self):
</span></span><span style="display:flex;"><span>        cash_flows <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">300</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># High discount rate should reduce NPV</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> npv(cash_flows, <span style="color:#ae81ff">0.25</span>) <span style="color:#f92672">&lt;</span> npv(cash_flows, <span style="color:#ae81ff">0.1</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_npv_with_invalid_input</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test with non-list input</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">with</span> pytest<span style="color:#f92672">.</span>raises(<span style="color:#a6e22e">TypeError</span>):
</span></span><span style="display:flex;"><span>            npv(<span style="color:#e6db74">&#34;not a list&#34;</span>, <span style="color:#ae81ff">0.1</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test with non-numeric cash flows</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">with</span> pytest<span style="color:#f92672">.</span>raises(<span style="color:#a6e22e">TypeError</span>):
</span></span><span style="display:flex;"><span>            npv([<span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>, <span style="color:#e6db74">&#34;300&#34;</span>, <span style="color:#ae81ff">400</span>], <span style="color:#ae81ff">0.1</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Test with invalid discount rate</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">with</span> pytest<span style="color:#f92672">.</span>raises(<span style="color:#a6e22e">ValueError</span>):
</span></span><span style="display:flex;"><span>            npv([<span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">400</span>], <span style="color:#f92672">-</span><span style="color:#ae81ff">1.5</span>)  <span style="color:#75715e"># Can&#39;t have less than -100% discount</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestIRR</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_basic_irr_calculation</span>(self):
</span></span><span style="display:flex;"><span>        cash_flows <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">300</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Using almost equal because IRR can have small floating point differences</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> abs(irr(cash_flows) <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.1548</span>) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0.0001</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Additional IRR tests would go here...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># We could add more test classes for other financial functions</span>
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>For finance professionals using Python, robust testing and debugging are essential practices that ensure your calculations are reliable and accurate. By incorporating unit tests, effective debugging strategies, and structured logging into your workflow, you can build financial tools that you and your colleagues can trust.</p>
<p>In our next post, we&rsquo;ll explore how to turn your financial scripts into proper command-line tools and automate routine financial tasks; a crucial skill for improving your productivity as a finance professional.</p>
<h2 id="practice-exercises">Practice Exercises</h2>
<ol>
<li>Create a simple function to calculate compound interest with different compounding periods, then write tests for it using pytest.</li>
<li>Debug a financial calculation by setting breakpoints and using your IDE&rsquo;s debugging tools.</li>
<li>Implement a custom exception for a financial calculation and write a test that verifies it&rsquo;s raised appropriately.</li>
<li>Add structured logging to a financial script you&rsquo;ve already written.</li>
</ol>
<h2 id="further-resources">Further Resources</h2>
<ul>
<li><a href="https://docs.pytest.org/">pytest Documentation</a></li>
<li><a href="https://docs.python.org/3/library/pdb.html">Python Debugging with pdb</a></li>
<li><a href="https://docs.python.org/3/library/logging.html">Python&rsquo;s logging Module</a></li>
<li><a href="https://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530/">Test-Driven Development by Example</a> by Kent Beck</li>
<li><a href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882/">Clean Code</a> by Robert C. Martin</li>
</ul>
]]></content:encoded></item><item><title>Part 7: Code Quality &amp; Collaboration in Python</title><link>https://michaelbrunger.com/python-virtual-environments-packaging/</link><pubDate>Thu, 12 Jun 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-virtual-environments-packaging/</guid><description>Learn version control with Git and GitHub, write clean PEP 8-compliant code, use linters and auto-formatters, and create effective documentation for your Python projects.</description><content:encoded><![CDATA[<h1 id="code-quality--collaboration-building-finance-tools-that-last">Code Quality &amp; Collaboration: Building Finance Tools That Last</h1>
<p>As a finance professional learning Python, you&rsquo;ll soon want to move beyond writing scripts just for yourself. Whether you&rsquo;re building financial models, automating reporting, or creating data analysis tools, there comes a point when your code needs to be shared with colleagues or even the wider finance community. This post will guide you through best practices for creating high-quality, shareable code.</p>
<h2 id="version-control-git--github-for-financial-projects">Version Control: Git &amp; GitHub for Financial Projects</h2>
<h3 id="why-version-control-matters-in-finance">Why Version Control Matters in Finance</h3>
<p>Imagine you&rsquo;ve built a Python script that calculates key financial ratios from quarterly reports. After sharing it with your team, you make changes that accidentally break the debt-to-equity calculation. Without version control, finding and fixing this error could be a nightmare. With Git, you can simply revert to the previous working version.</p>
<p>In finance, where accuracy is paramount and regulatory compliance often requires audit trails, version control is essential.</p>
<h3 id="getting-started-with-git">Getting Started with Git</h3>
<p>First, <a href="https://git-scm.com/downloads">download and install Git</a> for your operating system.</p>
<p>Once installed, open a command prompt or terminal and set up your identity:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git config --global user.name <span style="color:#e6db74">&#34;Your Name&#34;</span>
</span></span><span style="display:flex;"><span>git config --global user.email <span style="color:#e6db74">&#34;your.email@example.com&#34;</span>
</span></span></code></pre></div><h3 id="creating-your-first-finance-repository">Creating Your First Finance Repository</h3>
<p>Let&rsquo;s walk through creating a repository for a simple financial calculator:</p>
<ol>
<li>Create a new directory for your project:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir financial-ratio-calculator
</span></span><span style="display:flex;"><span>cd financial-ratio-calculator
</span></span></code></pre></div><ol start="2">
<li>Initialis a Git repository:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git init
</span></span></code></pre></div><p>You&rsquo;ll see a message that an empty Git repository has been initialised.</p>
<ol start="3">
<li>Create a simple Python file called <code>ratio_calculator.py</code>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_current_ratio</span>(current_assets, current_liabilities):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate the current ratio.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        current_assets (float): Total current assets
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        current_liabilities (float): Total current liabilities
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        float: Current ratio (current assets / current liabilities)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> current_liabilities <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Current liabilities cannot be zero (division by zero)&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> current_assets <span style="color:#f92672">/</span> current_liabilities
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_debt_to_equity</span>(total_debt, shareholders_equity):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate the debt-to-equity ratio.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        total_debt (float): Total debt
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        shareholders_equity (float): Total shareholders&#39; equity
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        float: Debt-to-equity ratio (total debt / shareholders&#39; equity)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> shareholders_equity <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Shareholders&#39; equity cannot be zero (division by zero)&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total_debt <span style="color:#f92672">/</span> shareholders_equity
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add more financial ratios as needed</span>
</span></span></code></pre></div><ol start="4">
<li>Track the file with Git:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add ratio_calculator.py
</span></span></code></pre></div><ol start="5">
<li>Commit the changes:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Add basic financial ratio calculator functions&#34;</span>
</span></span></code></pre></div><h3 id="core-git-commands-for-daily-use">Core Git Commands for Daily Use</h3>
<ul>
<li><code>git status</code>: Check which files have been modified</li>
<li><code>git diff</code>: See exactly what changed in your files</li>
<li><code>git add &lt;filename&gt;</code>: Stage a file for commit</li>
<li><code>git commit -m &quot;Your message&quot;</code>: Commit staged changes</li>
<li><code>git log</code>: View commit history</li>
</ul>
<h3 id="branching-for-new-features">Branching for New Features</h3>
<p>Branching lets you work on new features without affecting your main code. This is perfect for when you&rsquo;re adding new financial calculations to your toolkit.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Create a branch for a new profitability ratio feature</span>
</span></span><span style="display:flex;"><span>git branch profitability-ratios
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Switch to that branch</span>
</span></span><span style="display:flex;"><span>git checkout profitability-ratios
</span></span></code></pre></div><p>Or do both at once:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git checkout -b profitability-ratios
</span></span></code></pre></div><p>Now add some code to your ratio_calculator.py file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_roe</span>(net_income, average_shareholders_equity):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Return on Equity (ROE).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        net_income (float): Net income for the period
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        average_shareholders_equity (float): Average shareholders&#39; equity
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        float: ROE ratio (net income / average shareholders&#39; equity)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> average_shareholders_equity <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Average shareholders&#39; equity cannot be zero&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> net_income <span style="color:#f92672">/</span> average_shareholders_equity
</span></span></code></pre></div><p>Commit this new function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add ratio_calculator.py
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Add ROE calculation function&#34;</span>
</span></span></code></pre></div><p>When you&rsquo;re ready to merge this back into your main code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git checkout main
</span></span><span style="display:flex;"><span>git merge profitability-ratios
</span></span></code></pre></div><h3 id="collaborating-with-github">Collaborating with GitHub</h3>
<p>GitHub extends Git&rsquo;s functionality by hosting your repositories online, making collaboration easier.</p>
<ol>
<li><a href="https://github.com/join">Create a GitHub account</a> if you don&rsquo;t have one</li>
<li>Create a new repository on GitHub</li>
<li>Connect your local repository to GitHub:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git remote add origin https://github.com/yourusername/financial-ratio-calculator.git
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><p>Now your code is on GitHub! You can share the link with colleagues, collaborate on improvements, and track issues.</p>
<h3 id="pull-requests-the-professional-way-to-collaborate">Pull Requests: The Professional Way to Collaborate</h3>
<p>When working with a team of financial analysts, direct changes to the main codebase can be risky. Pull requests (PRs) provide a mechanism for review and discussion before code is merged:</p>
<ol>
<li>Make your changes in a separate branch</li>
<li>Push that branch to GitHub</li>
<li>Open a PR to merge your branch into main</li>
<li>Have teammates review your code</li>
<li>Merge the PR once approved</li>
</ol>
<p>This workflow is perfect for finance teams where code accuracy is critical; catching calculation errors before they make it into production reports!</p>
<h2 id="writing-clean-pep-8-compliant-code">Writing Clean, PEP 8 Compliant Code</h2>
<h3 id="what-is-pep-8">What is PEP 8?</h3>
<p>PEP 8 is Python&rsquo;s style guidea set of conventions for writing readable code. In finance, where you might be sharing models with auditors or other stakeholders, clean code is particularly important.</p>
<h3 id="key-pep-8-rules-for-finance-code">Key PEP 8 Rules for Finance Code</h3>
<ul>
<li><strong>Use 4 spaces for indentation</strong> (not tabs)</li>
<li><strong>Keep lines under 79 characters</strong> for better readability in documentation</li>
<li><strong>Use descriptive variable names</strong> that reflect financial concepts:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Bad</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calc</span>(a, b):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">/</span> b
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Good</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_price_to_earnings_ratio</span>(stock_price, earnings_per_share):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> stock_price <span style="color:#f92672">/</span> earnings_per_share
</span></span></code></pre></div><ul>
<li><strong>Use whitespace appropriately</strong>:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Bad</span>
</span></span><span style="display:flex;"><span>profit<span style="color:#f92672">=</span>revenue<span style="color:#f92672">-</span>expenses
</span></span><span style="display:flex;"><span>tax_amount<span style="color:#f92672">=</span>profit<span style="color:#f92672">*</span>tax_rate
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Good</span>
</span></span><span style="display:flex;"><span>profit <span style="color:#f92672">=</span> revenue <span style="color:#f92672">-</span> expenses
</span></span><span style="display:flex;"><span>tax_amount <span style="color:#f92672">=</span> profit <span style="color:#f92672">*</span> tax_rate
</span></span></code></pre></div><h3 id="using-linters-flake8">Using Linters: flake8</h3>
<p>Linters automatically check your code for style issues. Let&rsquo;s set up flake8:</p>
<ol>
<li>Install flake8:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install flake8
</span></span></code></pre></div><ol start="2">
<li>Run flake8 on your code:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>flake8 ratio_calculator.py
</span></span></code></pre></div><p>It will show any style violations that need fixing.</p>
<ol start="3">
<li>For a real finance project, create a configuration file (<code>.flake8</code>) in your project root:</li>
</ol>
<pre tabindex="0"><code>[flake8]
max-line-length = 88
exclude = .git,__pycache__,build,dist
per-file-ignores =
    __init__.py: F401
</code></pre><h3 id="auto-formatting-with-black">Auto-formatting with black</h3>
<p>Why spend time manually formatting code when tools can do it for you?</p>
<ol>
<li>Install black:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install black
</span></span></code></pre></div><ol start="2">
<li>Format your code:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>black ratio_calculator.py
</span></span></code></pre></div><p>Black will automatically reformat your code to follow a consistent style.</p>
<ol start="3">
<li>For finance projects, you might want to create a <code>pyproject.toml</code> file to configure black:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">tool</span>.<span style="color:#a6e22e">black</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">line-length</span> = <span style="color:#ae81ff">88</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">target-version</span> = [<span style="color:#e6db74">&#39;py38&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">include</span> = <span style="color:#e6db74">&#39;\.pyi?$&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">exclude</span> = <span style="color:#e6db74">&#39;&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/(
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    \.git
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | \.hg
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | \.mypy_cache
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | \.tox
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | \.venv
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | _build
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | buck-out
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | build
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  | dist
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">)/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>
</span></span></code></pre></div><h3 id="organising-imports-with-isort">Organising Imports with isort</h3>
<p>isort automatically organises your import statements by type and alphabetically.</p>
<ol>
<li>Install isort:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install isort
</span></span></code></pre></div><ol start="2">
<li>Run isort on your file:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>isort ratio_calculator.py
</span></span></code></pre></div><p>For finance projects where you might be importing various data analysis libraries, isort keeps your imports clean and consistent:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Standard library imports</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> datetime
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> decimal <span style="color:#f92672">import</span> Decimal
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Third-party imports</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Local application imports</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .financial_models <span style="color:#f92672">import</span> discounted_cash_flow
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .ratio_analysis <span style="color:#f92672">import</span> calculate_current_ratio
</span></span></code></pre></div><h2 id="writing-effective-documentation">Writing Effective Documentation</h2>
<h3 id="docstrings-your-future-self-will-thank-you">Docstrings: Your Future Self Will Thank You</h3>
<p>Documentation isn&rsquo;t just for others, it&rsquo;s useful for you six months from now when you can&rsquo;t remember why you wrote that complex financial calculation a certain way.</p>
<h4 id="google-style-docstrings">Google Style Docstrings</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_npv</span>(cash_flows, discount_rate):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Net Present Value of a series of cash flows.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cash_flows (list): List of cash flows, where the first element is the initial investment (negative)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        discount_rate (float): Annual discount rate as a decimal (e.g., 0.1 for 10%)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        float: Net Present Value
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Examples:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &gt;&gt;&gt; calculate_npv([-1000, 200, 300, 400, 500], 0.1)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        152.07
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    npv <span style="color:#f92672">=</span> cash_flows[<span style="color:#ae81ff">0</span>]  <span style="color:#75715e"># Initial investment</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i, cf <span style="color:#f92672">in</span> enumerate(cash_flows[<span style="color:#ae81ff">1</span>:], <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>        npv <span style="color:#f92672">+=</span> cf <span style="color:#f92672">/</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> discount_rate) <span style="color:#f92672">**</span> i
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> round(npv, <span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><h4 id="numpy-style-docstrings">NumPy Style Docstrings</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_irr</span>(cash_flows):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Internal Rate of Return for a series of cash flows.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Parameters
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ----------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    cash_flows : list or array-like
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        List of cash flows, where the first element is the initial investment (negative)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    -------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    float
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        The Internal Rate of Return as a decimal
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Notes
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    -----
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Uses Newton&#39;s method to find the rate that makes NPV = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Examples
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    --------
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &gt;&gt;&gt; calculate_irr([-1000, 300, 400, 500])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    0.1548
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># IRR implementation...</span>
</span></span></code></pre></div><p>Choose one style and be consistent across your project.</p>
<h3 id="generating-documentation-with-sphinx">Generating Documentation with Sphinx</h3>
<p>For larger finance projects, automatic documentation generation with Sphinx is invaluable:</p>
<ol>
<li>Install Sphinx:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install sphinx sphinx-rtd-theme
</span></span></code></pre></div><ol start="2">
<li>Set up a docs directory:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir docs
</span></span><span style="display:flex;"><span>cd docs
</span></span><span style="display:flex;"><span>sphinx-quickstart
</span></span></code></pre></div><ol start="3">
<li>Configure <code>conf.py</code> to use a nice theme:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>html_theme <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;sphinx_rtd_theme&#39;</span>
</span></span></code></pre></div><ol start="4">
<li>Build your documentation:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sphinx-build -b html . _build
</span></span></code></pre></div><p>This creates HTML documentation you can share with your finance team.</p>
<h2 id="putting-it-all-together-a-finance-project-workflow">Putting It All Together: A Finance Project Workflow</h2>
<p>Let&rsquo;s walk through a complete workflow for a hypothetical financial analysis tool:</p>
<ol>
<li>
<p><strong>Set up your environment</strong>:</p>
<ul>
<li>Create a virtual environment</li>
<li>Install dependencies</li>
<li>Set up Git</li>
</ul>
</li>
<li>
<p><strong>Create your project structure</strong>:</p>
</li>
</ol>
<pre tabindex="0"><code>financial-analysis-toolkit/
 .git/
 .gitignore
 .flake8
 pyproject.toml
 README.md
 requirements.txt
 setup.py
 docs/
 financial_toolkit/
     __init__.py
     ratio_analysis.py
     valuation_models.py
     risk_metrics.py
     utilities.py
</code></pre><ol start="3">
<li>
<p><strong>Write your code with documentation</strong>:</p>
<ul>
<li>Start with core functions</li>
<li>Add comprehensive docstrings</li>
<li>Make small, focused commits</li>
</ul>
</li>
<li>
<p><strong>Validate with linters and formatters</strong>:</p>
<ul>
<li>Run black to format code</li>
<li>Run isort to organise imports</li>
<li>Run flake8 to check for issues</li>
</ul>
</li>
<li>
<p><strong>Create tests</strong> (more on this in the next post)</p>
</li>
<li>
<p><strong>Push to GitHub and collaborate</strong>:</p>
<ul>
<li>Share with colleagues</li>
<li>Use pull requests for reviews</li>
<li>Track issues and feature requests</li>
</ul>
</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>As a finance professional using Python, the practices outlined in this post will help you create reliable, maintainable code that you can confidently share with colleagues or the wider finance community. Taking the time to learn these professional techniques now will save you countless hours in the future and elevate the quality of your financial analysis tools.</p>
<p>In the next post, we&rsquo;ll look at testing and debugging your financial code, which are critical skills for ensuring your calculations are accurate and robust.</p>
<h2 id="further-resources">Further Resources</h2>
<ul>
<li><a href="https://git-scm.com/doc">Git Documentation</a></li>
<li><a href="https://guides.github.com/">GitHub Guides</a></li>
<li><a href="https://pep8.org/">PEP 8 Style Guide</a></li>
<li><a href="https://realpython.com/documenting-python-code/">Real Python&rsquo;s Guide to Docstrings</a></li>
<li><a href="https://www.sphinx-doc.org/">Sphinx Documentation</a></li>
</ul>
<p><strong>Questions for Practice:</strong></p>
<ol>
<li>Try creating a Git repository for a simple financial calculator with at least three ratio calculations</li>
<li>Format your code with black and check it with flake8</li>
<li>Write Google-style docstrings for each function</li>
<li>Push your repository to GitHub and create a README explaining what your calculator does</li>
</ol>
]]></content:encoded></item><item><title>Part 6: Virtual Environments &amp; Packaging in Python</title><link>https://michaelbrunger.com/python-virtual-environments-packaging/</link><pubDate>Thu, 05 Jun 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-virtual-environments-packaging/</guid><description>Discover how to create and manage virtual environments, install packages with pip, structure your own Python projects, and publish packages to PyPI with best practices.</description><content:encoded><![CDATA[<h1 id="virtual-environments--packaging-in-python">Virtual Environments &amp; Packaging in Python</h1>
<p>As your Python journey progresses and you start building more sophisticated financial tools, you&rsquo;ll inevitably need to use external libraries. This is where virtual environments and package management become crucial skills. In this post, I&rsquo;ll cover how to create isolated environments for your projects and manage dependencies effectively.</p>
<h2 id="why-virtual-environments-matter">Why Virtual Environments Matter</h2>
<p>Imagine this scenario: You&rsquo;re working on two different financial applications. One requires pandas version 1.3 for compatibility with other tools, while the other needs the latest pandas 2.0 for new features. Without virtual environments, you&rsquo;d be forced to choose one version for your entire system, potentially breaking one of your applications.</p>
<p>Virtual environments solve this problem by creating isolated Python installations for each project. Benefits include:</p>
<ul>
<li><strong>Dependency isolation:</strong> Each project can have its own versions of packages</li>
<li><strong>Reproducibility:</strong> Easily share environment specifications with colleagues</li>
<li><strong>Clean testing:</strong> Test in environments that match production settings</li>
<li><strong>Avoiding permission issues:</strong> Install packages without admin privileges</li>
</ul>
<h2 id="creating-and-managing-virtual-environments">Creating and Managing Virtual Environments</h2>
<p>Python comes with the <code>venv</code> module built-in, which is the recommended way to create virtual environments.</p>
<h3 id="creating-a-virtual-environment-on-windows">Creating a Virtual Environment on Windows</h3>
<p>Open Command Prompt and navigate to your project directory:</p>
<pre tabindex="0"><code>cd C:\Users\YourName\Documents\financial-analysis-project
</code></pre><p>Create a new virtual environment:</p>
<pre tabindex="0"><code>python -m venv env
</code></pre><p>This creates a directory named <code>env</code> containing a copy of the Python interpreter and the standard library.</p>
<h3 id="activating-the-virtual-environment">Activating the Virtual Environment</h3>
<p>On Windows:</p>
<pre tabindex="0"><code>env\Scripts\activate
</code></pre><p>You&rsquo;ll notice your command prompt changes to show the active environment:</p>
<pre tabindex="0"><code>(env) C:\Users\YourName\Documents\financial-analysis-project&gt;
</code></pre><p>If you&rsquo;re using PowerShell instead of Command Prompt on Windows, the commands are slightly different:</p>
<pre tabindex="0"><code>.\env\Scripts\Activate.ps1
</code></pre><p>If you encounter execution policy restrictions, you may need to allow script execution:</p>
<pre tabindex="0"><code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
</code></pre><p>Now any Python commands will use this isolated environment.</p>
<h3 id="notes-for-macoslinux">Notes for macOS/Linux</h3>
<p>The process is similar on macOS and Linux, with slight differences:</p>
<ul>
<li>Create: <code>python3 -m venv env</code></li>
<li>Activate: <code>source env/bin/activate</code></li>
</ul>
<h3 id="deactivating-the-virtual-environment">Deactivating the Virtual Environment</h3>
<p>When you&rsquo;re done working on your project:</p>
<pre tabindex="0"><code>deactivate
</code></pre><p>Your prompt will return to normal, and Python commands will use the system interpreter again.</p>
<h2 id="managing-packages-with-pip">Managing Packages with pip</h2>
<p><code>pip</code> is Python&rsquo;s package installer, and it&rsquo;s the primary tool for adding external libraries to your environments.</p>
<h3 id="installing-packages">Installing Packages</h3>
<p>Once your virtual environment is activated, install packages with:</p>
<pre tabindex="0"><code>pip install package-name
</code></pre><p>For example, to install key financial packages:</p>
<pre tabindex="0"><code>pip install pandas numpy matplotlib openpyxl xlrd
</code></pre><p>You can also specify exact versions:</p>
<pre tabindex="0"><code>pip install pandas==1.5.3
</code></pre><p>Or version ranges:</p>
<pre tabindex="0"><code>pip install pandas&gt;=1.4.0,&lt;2.0.0
</code></pre><h3 id="listing-installed-packages">Listing Installed Packages</h3>
<p>To see what&rsquo;s installed in your environment:</p>
<pre tabindex="0"><code>pip list
</code></pre><p>Output example:</p>
<pre tabindex="0"><code>Package         Version
--------------- -------
matplotlib      3.7.1
numpy           1.24.3
openpyxl        3.1.2
pandas          1.5.3
pip             23.1.2
python-dateutil 2.8.2
pytz            2023.3
setuptools      65.6.3
six             1.16.0
tzdata          2023.3
xlrd            2.0.1
</code></pre><h3 id="freezing-requirements">Freezing Requirements</h3>
<p>When you want to share your project, it&rsquo;s important to specify exactly which packages and versions it needs. The <code>freeze</code> command creates a requirements file:</p>
<pre tabindex="0"><code>pip freeze &gt; requirements.txt
</code></pre><p>This generates a text file with all installed packages and their versions:</p>
<pre tabindex="0"><code># requirements.txt contents
matplotlib==3.7.1
numpy==1.24.3
openpyxl==3.1.2
pandas==1.5.3
python-dateutil==2.8.2
pytz==2023.3
six==1.16.0
tzdata==2023.3
xlrd==2.0.1
</code></pre><h3 id="installing-from-requirements">Installing from Requirements</h3>
<p>When someone else (or you on a different machine) wants to recreate your environment:</p>
<pre tabindex="0"><code>pip install -r requirements.txt
</code></pre><p>This is essential for collaborative financial projects where everyone needs the same libraries and versions.</p>
<h2 id="practical-example-setting-up-a-financial-analysis-environment">Practical Example: Setting Up a Financial Analysis Environment</h2>
<p>Let&rsquo;s walk through creating a virtual environment for a financial analysis project:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Create project directory</span>
</span></span><span style="display:flex;"><span>mkdir financial_analysis
</span></span><span style="display:flex;"><span>cd financial_analysis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create and activate virtual environment</span>
</span></span><span style="display:flex;"><span>python -m venv env
</span></span><span style="display:flex;"><span>env<span style="color:#ae81ff">\S</span>cripts<span style="color:#ae81ff">\a</span>ctivate
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Install required packages</span>
</span></span><span style="display:flex;"><span>pip install pandas numpy matplotlib openpyxl xlsxwriter jupyter
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verify installations</span>
</span></span><span style="display:flex;"><span>pip list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create requirements.txt</span>
</span></span><span style="display:flex;"><span>pip freeze &gt; requirements.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create a marker file for your project</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#75715e"># Financial Analysis Project &gt; README.md</span>
</span></span></code></pre></div><h2 id="basic-package-structure">Basic Package Structure</h2>
<p>As your financial tools grow more complex, you might want to create your own Python packages that you can reuse across projects or share with colleagues.</p>
<h3 id="project-structure">Project Structure</h3>
<p>A typical Python package structure looks like this:</p>
<pre tabindex="0"><code>financial_tools/

 pyproject.toml      # Modern project configuration
 README.md           # Documentation
 LICENSE             # License information

 src/                # Source code directory
     financial_tools/  # Actual package
         __init__.py   # Makes it a package
         analysis.py   # Analysis module
         reporting.py  # Reporting module
         utils.py      # Utility functions
</code></pre><h3 id="the-__init__py-file">The <code>__init__.py</code> File</h3>
<p>This file marks a directory as a Python package and can be used to define what gets imported when someone uses your package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># src/financial_tools/__init__.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Version information</span>
</span></span><span style="display:flex;"><span>__version__ <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0.1.0&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Import commonly used functions for easier access</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .analysis <span style="color:#f92672">import</span> calculate_roi, calculate_npv
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .reporting <span style="color:#f92672">import</span> generate_monthly_report
</span></span></code></pre></div><h3 id="setting-up-a-package-with-pyprojecttoml">Setting Up a Package with <code>pyproject.toml</code></h3>
<p>Modern Python packaging uses <code>pyproject.toml</code> for configuration:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">build-system</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">requires</span> = [<span style="color:#e6db74">&#34;setuptools&gt;=42&#34;</span>, <span style="color:#e6db74">&#34;wheel&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">build-backend</span> = <span style="color:#e6db74">&#34;setuptools.build_meta&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">project</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;financial_tools&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">version</span> = <span style="color:#e6db74">&#34;0.1.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">description</span> = <span style="color:#e6db74">&#34;Tools for financial analysis and reporting&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">readme</span> = <span style="color:#e6db74">&#34;README.md&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">authors</span> = [
</span></span><span style="display:flex;"><span>    {<span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;Your Name&#34;</span>, <span style="color:#a6e22e">email</span> = <span style="color:#e6db74">&#34;your.email@example.com&#34;</span>}
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">license</span> = {<span style="color:#a6e22e">text</span> = <span style="color:#e6db74">&#34;MIT&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">classifiers</span> = [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Programming Language :: Python :: 3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;License :: OSI Approved :: MIT License&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Operating System :: OS Independent&#34;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dependencies</span> = [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;pandas&gt;=1.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;numpy&gt;=1.20.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;matplotlib&gt;=3.4.0&#34;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">requires-python</span> = <span style="color:#e6db74">&#34;&gt;=3.8&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">project</span>.<span style="color:#a6e22e">urls</span>]
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Homepage&#34;</span> = <span style="color:#e6db74">&#34;https://github.com/yourusername/financial_tools&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Bug Tracker&#34;</span> = <span style="color:#e6db74">&#34;https://github.com/yourusername/financial_tools/issues&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">project</span>.<span style="color:#a6e22e">optional-dependencies</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dev</span> = [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;pytest&gt;=6.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;black&gt;=21.5b2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;flake8&gt;=3.9&#34;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">excel</span> = [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;openpyxl&gt;=3.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;xlsxwriter&gt;=1.4.0&#34;</span>,
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h3 id="building-and-installing-your-package">Building and Installing Your Package</h3>
<p>With your package structure set up, you can install it in development mode:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install -e .
</span></span></code></pre></div><p>This makes the package available but still editable in its original location.</p>
<h2 id="publishing-to-pypi">Publishing to PyPI</h2>
<p>When your financial package is ready to share with the world, you can publish it to the Python Package Index (PyPI).</p>
<h3 id="build-distribution-packages">Build Distribution Packages</h3>
<p>First, make sure you have the build tools:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install build twine
</span></span></code></pre></div><p>Then create distribution packages:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python -m build
</span></span></code></pre></div><p>This will create a directory called <code>dist</code> with distribution files.</p>
<h3 id="upload-to-pypi">Upload to PyPI</h3>
<p>Use <code>twine</code> to upload your package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>twine upload dist/*
</span></span></code></pre></div><p>You&rsquo;ll need to create an account on PyPI before uploading.</p>
<h3 id="versioning-best-practices">Versioning Best Practices</h3>
<p>For financial software where accuracy is critical, proper versioning is essential:</p>
<ol>
<li>
<p><strong>Use Semantic Versioning:</strong> MAJOR.MINOR.PATCH</p>
<ul>
<li>MAJOR: Incompatible API changes</li>
<li>MINOR: New features, backward-compatible</li>
<li>PATCH: Bug fixes, backward-compatible</li>
</ul>
</li>
<li>
<p><strong>Document Changes:</strong> Keep a CHANGELOG.md file</p>
</li>
<li>
<p><strong>Version Bumping:</strong> Update version in one place only (<code>pyproject.toml</code>)</p>
</li>
<li>
<p><strong>Git Tags:</strong> Tag releases in your version control system</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git tag -a v0.1.0 -m <span style="color:#e6db74">&#34;Initial release&#34;</span>
</span></span><span style="display:flex;"><span>git push origin v0.1.0
</span></span></code></pre></div><h2 id="real-world-example-financial-toolkit-package">Real-World Example: Financial Toolkit Package</h2>
<p>Let&rsquo;s create a minimal example of what a financial analysis package might look like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># src/financial_tools/analysis.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_roi</span>(gain, cost):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Return on Investment (ROI)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        gain: The profit or gain from the investment
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cost: The cost of the investment
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        ROI as a decimal (e.g., 0.15 for 15%)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (gain <span style="color:#f92672">-</span> cost) <span style="color:#f92672">/</span> cost
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_npv</span>(cash_flows, discount_rate):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Net Present Value
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cash_flows: List of cash flows where the first element is the initial investment (negative)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        discount_rate: The discount rate as a decimal (e.g., 0.1 for 10%)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        The Net Present Value of the cash flows
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    npv <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i, cf <span style="color:#f92672">in</span> enumerate(cash_flows):
</span></span><span style="display:flex;"><span>        npv <span style="color:#f92672">+=</span> cf <span style="color:#f92672">/</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> discount_rate) <span style="color:#f92672">**</span> i
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> npv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_irr</span>(cash_flows, iterations<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>, guess<span style="color:#f92672">=</span><span style="color:#ae81ff">0.1</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Internal Rate of Return using iterative approach
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cash_flows: List of cash flows where the first element is the initial investment (negative)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        iterations: Maximum number of iterations to perform
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        guess: Initial guess for the IRR
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Estimated IRR as a decimal
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    rate <span style="color:#f92672">=</span> guess
</span></span><span style="display:flex;"><span>    step <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.05</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> _ <span style="color:#f92672">in</span> range(iterations):
</span></span><span style="display:flex;"><span>        npv <span style="color:#f92672">=</span> calculate_npv(cash_flows, rate)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> abs(npv) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0.0001</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># NPV is very close to zero, we found the IRR</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> rate
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> npv <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># NPV is positive, increase the rate</span>
</span></span><span style="display:flex;"><span>            rate <span style="color:#f92672">+=</span> step
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># NPV is negative, decrease the rate</span>
</span></span><span style="display:flex;"><span>            rate <span style="color:#f92672">-=</span> step
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Reduce step size to improve accuracy</span>
</span></span><span style="display:flex;"><span>        step <span style="color:#f92672">/=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Return best approximation after iterations</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> rate
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># src/financial_tools/reporting.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> datetime
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">generate_summary_report</span>(data, title<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Financial Summary&#34;</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Generate a simple text-based financial report
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        data: Dictionary of financial metrics
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        title: Report title
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Formatted report as a string
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    now <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>datetime<span style="color:#f92672">.</span>now()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Create header</span>
</span></span><span style="display:flex;"><span>    report <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>title<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    report <span style="color:#f92672">+=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;=&#39;</span> <span style="color:#f92672">*</span> len(title)<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    report <span style="color:#f92672">+=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Generated: </span><span style="color:#e6db74">{</span>now<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> %H:%M&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Add metrics</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> key, value <span style="color:#f92672">in</span> data<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Format numbers nicely</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> isinstance(value, (int, float)):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> abs(value) <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1000</span>:
</span></span><span style="display:flex;"><span>                formatted_value <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;$</span><span style="color:#e6db74">{</span>value<span style="color:#e6db74">:</span><span style="color:#e6db74">,.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                formatted_value <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;$</span><span style="color:#e6db74">{</span>value<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            formatted_value <span style="color:#f92672">=</span> str(value)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        report <span style="color:#f92672">+=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>key<span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">{</span>formatted_value<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> report
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">format_as_percentage</span>(value, decimal_places<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Format a decimal as a percentage string&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>value <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span><span style="color:#e6db74">:</span><span style="color:#e6db74">.</span><span style="color:#e6db74">{</span>decimal_places<span style="color:#e6db74">}</span><span style="color:#e6db74">f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>
</span></span></code></pre></div><h3 id="using-the-package">Using the Package</h3>
<p>Once installed, users could easily import and use your financial toolkit:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> financial_tools.analysis <span style="color:#f92672">import</span> calculate_roi, calculate_npv
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> financial_tools.reporting <span style="color:#f92672">import</span> generate_summary_report, format_as_percentage
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate investment metrics</span>
</span></span><span style="display:flex;"><span>investment_cost <span style="color:#f92672">=</span> <span style="color:#ae81ff">50000</span>
</span></span><span style="display:flex;"><span>annual_returns <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">50000</span>, <span style="color:#ae81ff">12000</span>, <span style="color:#ae81ff">15000</span>, <span style="color:#ae81ff">18000</span>, <span style="color:#ae81ff">20000</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>roi <span style="color:#f92672">=</span> calculate_roi(sum(annual_returns) <span style="color:#f92672">+</span> investment_cost, investment_cost)
</span></span><span style="display:flex;"><span>npv <span style="color:#f92672">=</span> calculate_npv(annual_returns, <span style="color:#ae81ff">0.08</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Generate report</span>
</span></span><span style="display:flex;"><span>report_data <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Investment Amount&#34;</span>: investment_cost,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Total Returns&#34;</span>: sum(annual_returns[<span style="color:#ae81ff">1</span>:]),
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;ROI&#34;</span>: format_as_percentage(roi),
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;NPV (8%)&#34;</span>: npv,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Break-even&#34;</span>: <span style="color:#e6db74">&#34;Year 3&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>report <span style="color:#f92672">=</span> generate_summary_report(report_data, <span style="color:#e6db74">&#34;Investment Analysis&#34;</span>)
</span></span><span style="display:flex;"><span>print(report)
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>Virtual environments and proper packaging are essential skills for any Python developer, especially when working on financial applications where consistency and reproducibility are critical. By mastering these concepts, you&rsquo;ll ensure your projects are well-organised, shareable, and isolated from potential dependency conflicts.</p>
<p>In the next post, we&rsquo;ll look at code quality and collaboration tools that will help you write cleaner, more maintainable financial applications and work effectively with others.</p>
]]></content:encoded></item><item><title>Part 5: Functions, Modules &amp; File I/O in Python</title><link>https://michaelbrunger.com/python-functions-modules-file-io/</link><pubDate>Fri, 30 May 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-functions-modules-file-io/</guid><description>Learn how to define and use functions, organize code into modules, leverage Python&amp;#39;s Standard Library, and perform file operations for reading and writing data.</description><content:encoded><![CDATA[<h1 id="functions-modules--file-io-in-python">Functions, Modules &amp; File I/O in Python</h1>
<p>These next concepts incredibly useful for organising code and working with external data. Let&rsquo;s explore how Python handles functions, modules, and file operations - all essential skills for financial analysis and reporting.</p>
<h2 id="defining-and-calling-functions">Defining and Calling Functions</h2>
<p>Functions are reusable blocks of code that perform specific tasks. They help keep your code DRY (Don&rsquo;t Repeat Yourself) and make it more maintainable.</p>
<h3 id="basic-function-syntax">Basic Function Syntax</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">function_name</span>(parameters):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Docstring explaining what the function does.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Function body</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result  <span style="color:#75715e"># Optional</span>
</span></span></code></pre></div><p>Here&rsquo;s a simple function that calculates compound interest:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_compound_interest</span>(principal, rate, time, compounds_per_year<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate compound interest.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        principal: Initial investment amount
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        rate: Annual interest rate (as decimal, e.g., 0.05 for 5%)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        time: Time period in years
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        compounds_per_year: Number of times interest compounds per year (default=1)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        The final amount after compound interest
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> principal <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> rate<span style="color:#f92672">/</span>compounds_per_year)<span style="color:#f92672">**</span>(compounds_per_year<span style="color:#f92672">*</span>time)
</span></span></code></pre></div><p>Let&rsquo;s call this function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Calculate investment growth at 5% interest, compounded quarterly for 10 years</span>
</span></span><span style="display:flex;"><span>initial_investment <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>
</span></span><span style="display:flex;"><span>final_amount <span style="color:#f92672">=</span> calculate_compound_interest(
</span></span><span style="display:flex;"><span>    principal<span style="color:#f92672">=</span>initial_investment, 
</span></span><span style="display:flex;"><span>    rate<span style="color:#f92672">=</span><span style="color:#ae81ff">0.05</span>, 
</span></span><span style="display:flex;"><span>    time<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, 
</span></span><span style="display:flex;"><span>    compounds_per_year<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;$</span><span style="color:#e6db74">{</span>initial_investment<span style="color:#e6db74">}</span><span style="color:#e6db74"> will grow to $</span><span style="color:#e6db74">{</span>final_amount<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> after 10 years&#34;</span>)
</span></span></code></pre></div><p><strong>Output:</strong></p>
<pre tabindex="0"><code>$10000 will grow to $16470.09 after 10 years
</code></pre><h3 id="function-arguments">Function Arguments</h3>
<p>Python offers flexible ways to handle function arguments:</p>
<h4 id="positional-vs-keyword-arguments">Positional vs. Keyword Arguments</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Positional arguments (order matters)</span>
</span></span><span style="display:flex;"><span>result1 <span style="color:#f92672">=</span> calculate_compound_interest(<span style="color:#ae81ff">10000</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Keyword arguments (order doesn&#39;t matter)</span>
</span></span><span style="display:flex;"><span>result2 <span style="color:#f92672">=</span> calculate_compound_interest(
</span></span><span style="display:flex;"><span>    rate<span style="color:#f92672">=</span><span style="color:#ae81ff">0.05</span>,
</span></span><span style="display:flex;"><span>    principal<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span>,
</span></span><span style="display:flex;"><span>    compounds_per_year<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>    time<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><h4 id="default-parameter-values">Default Parameter Values</h4>
<p>In our function, <code>compounds_per_year=1</code> provides a default value if not specified:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Using the default compounds_per_year (annual compounding)</span>
</span></span><span style="display:flex;"><span>annual_result <span style="color:#f92672">=</span> calculate_compound_interest(<span style="color:#ae81ff">10000</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;With annual compounding: $</span><span style="color:#e6db74">{</span>annual_result<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h4 id="variable-number-of-arguments">Variable Number of Arguments</h4>
<p>For functions that need to accept varying numbers of arguments:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># *args collects extra positional arguments as a tuple</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sum_all_values</span>(<span style="color:#f92672">*</span>args):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Sum any number of values.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sum(args)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># **kwargs collects extra keyword arguments as a dictionary</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_financial_report</span>(report_date, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Create a financial report with flexible data points.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    report <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;date&#34;</span>: report_date}
</span></span><span style="display:flex;"><span>    report<span style="color:#f92672">.</span>update(kwargs)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> report
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example usage</span>
</span></span><span style="display:flex;"><span>total <span style="color:#f92672">=</span> sum_all_values(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">250</span>, <span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">75</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total: $</span><span style="color:#e6db74">{</span>total<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>report <span style="color:#f92672">=</span> create_financial_report(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;2025-04-28&#34;</span>,
</span></span><span style="display:flex;"><span>    revenue<span style="color:#f92672">=</span><span style="color:#ae81ff">150000</span>,
</span></span><span style="display:flex;"><span>    expenses<span style="color:#f92672">=</span><span style="color:#ae81ff">95000</span>,
</span></span><span style="display:flex;"><span>    net_profit<span style="color:#f92672">=</span><span style="color:#ae81ff">55000</span>,
</span></span><span style="display:flex;"><span>    profit_margin<span style="color:#f92672">=</span><span style="color:#ae81ff">0.37</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>print(report)
</span></span></code></pre></div><h2 id="variable-scope-and-namespaces">Variable Scope and Namespaces</h2>
<p>Understanding scope is crucial for debugging and writing clean code.</p>
<h3 id="local-vs-global-scope">Local vs. Global Scope</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>total_assets <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000000</span>  <span style="color:#75715e"># Global variable</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_roi</span>(profit):
</span></span><span style="display:flex;"><span>    investment <span style="color:#f92672">=</span> <span style="color:#ae81ff">100000</span>  <span style="color:#75715e"># Local variable</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> profit <span style="color:#f92672">/</span> investment <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># investment is not accessible here</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total assets: $</span><span style="color:#e6db74">{</span>total_assets<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>roi <span style="color:#f92672">=</span> calculate_roi(<span style="color:#ae81ff">25000</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;ROI: </span><span style="color:#e6db74">{</span>roi<span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>)
</span></span></code></pre></div><p>Local variables exist only within their function. Global variables can be accessed inside functions, but to modify them, you need the <code>global</code> keyword:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>balance <span style="color:#f92672">=</span> <span style="color:#ae81ff">5000</span>  <span style="color:#75715e"># Global variable</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">deposit</span>(amount):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> balance  <span style="color:#75715e"># Tell Python we want to modify the global variable</span>
</span></span><span style="display:flex;"><span>    balance <span style="color:#f92672">+=</span> amount
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> balance
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">withdraw</span>(amount):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> balance
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> balance <span style="color:#f92672">&gt;=</span> amount:
</span></span><span style="display:flex;"><span>        balance <span style="color:#f92672">-=</span> amount
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> balance
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Insufficient funds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Initial balance: $</span><span style="color:#e6db74">{</span>balance<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>deposit(<span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;After deposit: $</span><span style="color:#e6db74">{</span>balance<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>withdraw(<span style="color:#ae81ff">2000</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;After withdrawal: $</span><span style="color:#e6db74">{</span>balance<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h3 id="namespaces">Namespaces</h3>
<p>Python uses namespaces to organise names and avoid conflicts. Each module, function, and class has its own namespace.</p>
<h2 id="organising-code-into-modules-and-packages">Organising Code into Modules and Packages</h2>
<p>As your financial scripts grow, organising code becomes essential.</p>
<h3 id="modules">Modules</h3>
<p>A module is simply a <code>.py</code> file containing code. Let&rsquo;s create a financial utilities module:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># financial_utils.py</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_roi</span>(profit, investment):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Calculate Return on Investment as a percentage.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (profit <span style="color:#f92672">/</span> investment) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_npv</span>(cash_flows, discount_rate):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Calculate Net Present Value of a series of cash flows.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cash_flows: List of cash flows, where index 0 is the initial investment (negative)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        discount_rate: Discount rate as decimal (e.g., 0.1 for 10%)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    npv <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> t, cash_flow <span style="color:#f92672">in</span> enumerate(cash_flows):
</span></span><span style="display:flex;"><span>        npv <span style="color:#f92672">+=</span> cash_flow <span style="color:#f92672">/</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> discount_rate) <span style="color:#f92672">**</span> t
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> npv
</span></span></code></pre></div><p>To use this module:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># main.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> financial_utils
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate ROI</span>
</span></span><span style="display:flex;"><span>investment <span style="color:#f92672">=</span> <span style="color:#ae81ff">50000</span>
</span></span><span style="display:flex;"><span>profit <span style="color:#f92672">=</span> <span style="color:#ae81ff">12500</span>
</span></span><span style="display:flex;"><span>roi <span style="color:#f92672">=</span> financial_utils<span style="color:#f92672">.</span>calculate_roi(profit, investment)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;ROI: </span><span style="color:#e6db74">{</span>roi<span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate NPV of a project</span>
</span></span><span style="display:flex;"><span>cash_flows <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">100000</span>, <span style="color:#ae81ff">30000</span>, <span style="color:#ae81ff">35000</span>, <span style="color:#ae81ff">45000</span>, <span style="color:#ae81ff">50000</span>]  <span style="color:#75715e"># Initial investment + 4 years of returns</span>
</span></span><span style="display:flex;"><span>npv <span style="color:#f92672">=</span> financial_utils<span style="color:#f92672">.</span>calculate_npv(cash_flows, <span style="color:#ae81ff">0.08</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;NPV: $</span><span style="color:#e6db74">{</span>npv<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><p>You can also import specific functions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> financial_utils <span style="color:#f92672">import</span> calculate_roi, calculate_npv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Now use without the module prefix</span>
</span></span><span style="display:flex;"><span>roi <span style="color:#f92672">=</span> calculate_roi(<span style="color:#ae81ff">12500</span>, <span style="color:#ae81ff">50000</span>)
</span></span></code></pre></div><h3 id="packages">Packages</h3>
<p>Packages are directories containing multiple modules. They require an <code>__init__.py</code> file (which can be empty) to be recognised as packages.</p>
<pre tabindex="0"><code>finance_package/
 __init__.py
 analysis.py
 reporting.py
 utils.py
</code></pre><p>Using packages:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Import specific modules from a package</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> finance_package <span style="color:#f92672">import</span> analysis, reporting
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Import specific functions from a module in a package</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> finance_package.utils <span style="color:#f92672">import</span> calculate_roi
</span></span></code></pre></div><h2 id="exploring-the-standard-library">Exploring the Standard Library</h2>
<p>Python comes with a rich standard library. Here are some modules particularly useful for financial applications:</p>
<h3 id="math-module">Math Module</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> math
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate loan payment using the PMT formula</span>
</span></span><span style="display:flex;"><span>principal <span style="color:#f92672">=</span> <span style="color:#ae81ff">250000</span>
</span></span><span style="display:flex;"><span>annual_rate <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.04</span>  <span style="color:#75715e"># 4%</span>
</span></span><span style="display:flex;"><span>years <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>monthly_rate <span style="color:#f92672">=</span> annual_rate <span style="color:#f92672">/</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>num_payments <span style="color:#f92672">=</span> years <span style="color:#f92672">*</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Monthly payment formula</span>
</span></span><span style="display:flex;"><span>payment <span style="color:#f92672">=</span> principal <span style="color:#f92672">*</span> (monthly_rate <span style="color:#f92672">*</span> math<span style="color:#f92672">.</span>pow(<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> monthly_rate, num_payments)) <span style="color:#f92672">/</span> (math<span style="color:#f92672">.</span>pow(<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> monthly_rate, num_payments) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Monthly mortgage payment: $</span><span style="color:#e6db74">{</span>payment<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h3 id="random-module">Random Module</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Simulate stock price movements (very simplified)</span>
</span></span><span style="display:flex;"><span>starting_price <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>daily_volatility <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.015</span>  <span style="color:#75715e"># 1.5%</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>prices <span style="color:#f92672">=</span> [starting_price]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> day <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">30</span>):
</span></span><span style="display:flex;"><span>    change <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>normalvariate(<span style="color:#ae81ff">0</span>, daily_volatility)
</span></span><span style="display:flex;"><span>    new_price <span style="color:#f92672">=</span> prices[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> change)
</span></span><span style="display:flex;"><span>    prices<span style="color:#f92672">.</span>append(new_price)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Starting price: $</span><span style="color:#e6db74">{</span>starting_price<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Ending price: $</span><span style="color:#e6db74">{</span>prices[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;30-day return: </span><span style="color:#e6db74">{</span>(prices[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">/</span>prices[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span><span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%&#34;</span>)
</span></span></code></pre></div><h3 id="datetime-module">Datetime Module</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime, timedelta
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate business days between dates</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">business_days_between</span>(start_date, end_date):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Count business days between two dates (excluding weekends).&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    days <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    current_date <span style="color:#f92672">=</span> start_date
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> current_date <span style="color:#f92672">&lt;=</span> end_date:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Monday = 0, Sunday = 6</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> current_date<span style="color:#f92672">.</span>weekday() <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>:  <span style="color:#75715e"># Only count weekdays (0-4)</span>
</span></span><span style="display:flex;"><span>            days <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        current_date <span style="color:#f92672">+=</span> timedelta(days<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> days
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate days until fiscal year end</span>
</span></span><span style="display:flex;"><span>today <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>now()
</span></span><span style="display:flex;"><span>fiscal_year_end <span style="color:#f92672">=</span> datetime(today<span style="color:#f92672">.</span>year, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">31</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> today <span style="color:#f92672">&gt;</span> fiscal_year_end:
</span></span><span style="display:flex;"><span>    fiscal_year_end <span style="color:#f92672">=</span> datetime(today<span style="color:#f92672">.</span>year <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">31</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>business_days <span style="color:#f92672">=</span> business_days_between(today, fiscal_year_end)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Business days until fiscal year end: </span><span style="color:#e6db74">{</span>business_days<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h3 id="os-and-sys-modules">OS and Sys Modules</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Get the current working directory (useful for file paths)</span>
</span></span><span style="display:flex;"><span>current_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>getcwd()
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Current directory: </span><span style="color:#e6db74">{</span>current_dir<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># List all Excel files in the current directory</span>
</span></span><span style="display:flex;"><span>excel_files <span style="color:#f92672">=</span> [file <span style="color:#66d9ef">for</span> file <span style="color:#f92672">in</span> os<span style="color:#f92672">.</span>listdir() <span style="color:#66d9ef">if</span> file<span style="color:#f92672">.</span>endswith((<span style="color:#e6db74">&#39;.xlsx&#39;</span>, <span style="color:#e6db74">&#39;.xls&#39;</span>))]
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Excel files found:&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> file <span style="color:#f92672">in</span> excel_files:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;- </span><span style="color:#e6db74">{</span>file<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Get Python version and platform information</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Python version: </span><span style="color:#e6db74">{</span>sys<span style="color:#f92672">.</span>version<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Platform: </span><span style="color:#e6db74">{</span>sys<span style="color:#f92672">.</span>platform<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h2 id="reading-fromwriting-to-text-files">Reading from/Writing to Text Files</h2>
<p>File operations are essential for financial data analysis, reporting, and automation.</p>
<h3 id="opening-and-closing-files">Opening and Closing Files</h3>
<p>The basic pattern is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Open a file in read mode</span>
</span></span><span style="display:flex;"><span>file <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;data.txt&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Do something with the file</span>
</span></span><span style="display:flex;"><span>content <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Close the file</span>
</span></span><span style="display:flex;"><span>file<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><p>However, this approach has problems if an error occurs before <code>close()</code>. The preferred way is using the <code>with</code> statement:</p>
<h3 id="the-with-statement">The with Statement</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Automatically handles proper closing of the file</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;data.txt&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    content <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># File processing here</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># File is automatically closed when the block ends</span>
</span></span></code></pre></div><h3 id="reading-text-files">Reading Text Files</h3>
<p>Let&rsquo;s work with a sample CSV file containing financial transactions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Sample contents of transactions.csv:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># date,description,amount</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2025-01-15,Office supplies,-129.99</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2025-01-18,Client payment,1500.00</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2025-01-22,Software subscription,-49.99</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2025-01-30,Consulting fees,2750.00</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;transactions.csv&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Read the entire file as a single string</span>
</span></span><span style="display:flex;"><span>    content <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;File contents:&#34;</span>)
</span></span><span style="display:flex;"><span>    print(content)
</span></span></code></pre></div><p>Reading line by line:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;transactions.csv&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Skip header</span>
</span></span><span style="display:flex;"><span>    header <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>readline()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Initialise counters</span>
</span></span><span style="display:flex;"><span>    total_income <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    total_expenses <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Process each transaction</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Remove whitespace and split by comma</span>
</span></span><span style="display:flex;"><span>        date, description, amount <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>strip()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;,&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Convert amount to float</span>
</span></span><span style="display:flex;"><span>        amount <span style="color:#f92672">=</span> float(amount)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> amount <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            total_income <span style="color:#f92672">+=</span> amount
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            total_expenses <span style="color:#f92672">+=</span> amount
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total income: $</span><span style="color:#e6db74">{</span>total_income<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total expenses: $</span><span style="color:#e6db74">{</span>total_expenses<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Net cash flow: $</span><span style="color:#e6db74">{</span>total_income <span style="color:#f92672">+</span> total_expenses<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h3 id="writing-to-text-files">Writing to Text Files</h3>
<p>Let&rsquo;s create a simple financial report:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Sample transaction data</span>
</span></span><span style="display:flex;"><span>transactions <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    {<span style="color:#e6db74">&#34;date&#34;</span>: <span style="color:#e6db74">&#34;2025-01-15&#34;</span>, <span style="color:#e6db74">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Office supplies&#34;</span>, <span style="color:#e6db74">&#34;amount&#34;</span>: <span style="color:#f92672">-</span><span style="color:#ae81ff">129.99</span>},
</span></span><span style="display:flex;"><span>    {<span style="color:#e6db74">&#34;date&#34;</span>: <span style="color:#e6db74">&#34;2025-01-18&#34;</span>, <span style="color:#e6db74">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Client payment&#34;</span>, <span style="color:#e6db74">&#34;amount&#34;</span>: <span style="color:#ae81ff">1500.00</span>},
</span></span><span style="display:flex;"><span>    {<span style="color:#e6db74">&#34;date&#34;</span>: <span style="color:#e6db74">&#34;2025-01-22&#34;</span>, <span style="color:#e6db74">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Software subscription&#34;</span>, <span style="color:#e6db74">&#34;amount&#34;</span>: <span style="color:#f92672">-</span><span style="color:#ae81ff">49.99</span>},
</span></span><span style="display:flex;"><span>    {<span style="color:#e6db74">&#34;date&#34;</span>: <span style="color:#e6db74">&#34;2025-01-30&#34;</span>, <span style="color:#e6db74">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Consulting fees&#34;</span>, <span style="color:#e6db74">&#34;amount&#34;</span>: <span style="color:#ae81ff">2750.00</span>}
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate summary statistics</span>
</span></span><span style="display:flex;"><span>total_income <span style="color:#f92672">=</span> sum(t[<span style="color:#e6db74">&#34;amount&#34;</span>] <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> transactions <span style="color:#66d9ef">if</span> t[<span style="color:#e6db74">&#34;amount&#34;</span>] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>total_expenses <span style="color:#f92672">=</span> sum(t[<span style="color:#e6db74">&#34;amount&#34;</span>] <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> transactions <span style="color:#66d9ef">if</span> t[<span style="color:#e6db74">&#34;amount&#34;</span>] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>net_cash_flow <span style="color:#f92672">=</span> total_income <span style="color:#f92672">+</span> total_expenses
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Write the report to a file</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;financial_report.txt&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> report_file:
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;MONTHLY FINANCIAL REPORT</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;======================</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;TRANSACTION DETAILS:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;-----------------</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> transactions:
</span></span><span style="display:flex;"><span>        amount_str <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;$</span><span style="color:#e6db74">{</span>abs(t[<span style="color:#e6db74">&#39;amount&#39;</span>])<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> t[<span style="color:#e6db74">&#34;amount&#34;</span>] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            amount_str <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;-</span><span style="color:#e6db74">{</span>amount_str<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>t[<span style="color:#e6db74">&#39;date&#39;</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74"> | </span><span style="color:#e6db74">{</span>t[<span style="color:#e6db74">&#39;description&#39;</span>]<span style="color:#f92672">.</span>ljust(<span style="color:#ae81ff">20</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> | </span><span style="color:#e6db74">{</span>amount_str<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">SUMMARY:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;--------</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total Income:    $</span><span style="color:#e6db74">{</span>total_income<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total Expenses:  $</span><span style="color:#e6db74">{</span>total_expenses<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    report_file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Net Cash Flow:   $</span><span style="color:#e6db74">{</span>net_cash_flow<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Financial report generated: financial_report.txt&#34;</span>)
</span></span></code></pre></div><h3 id="handling-different-file-modes">Handling Different File Modes</h3>
<ul>
<li><code>'r'</code>: Read (default)</li>
<li><code>'w'</code>: Write (creates new file or truncates existing)</li>
<li><code>'a'</code>: Append (adds to end of file)</li>
<li><code>'r+'</code>: Read and write</li>
<li><code>'b'</code>: Binary mode (used with other modes, e.g., <code>'rb'</code>)</li>
</ul>
<h2 id="working-with-csv-files">Working with CSV Files</h2>
<p>While you can process CSV files manually as shown above, Python&rsquo;s <code>csv</code> module makes it easier:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> csv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Reading CSV</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;transactions.csv&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    csv_reader <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>DictReader(file)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Process each row as a dictionary</span>
</span></span><span style="display:flex;"><span>    transactions <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> row <span style="color:#f92672">in</span> csv_reader:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Convert amount from string to float</span>
</span></span><span style="display:flex;"><span>        row[<span style="color:#e6db74">&#39;amount&#39;</span>] <span style="color:#f92672">=</span> float(row[<span style="color:#e6db74">&#39;amount&#39;</span>])
</span></span><span style="display:flex;"><span>        transactions<span style="color:#f92672">.</span>append(row)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Loaded </span><span style="color:#e6db74">{</span>len(transactions)<span style="color:#e6db74">}</span><span style="color:#e6db74"> transactions&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Writing CSV</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;budget_forecast.csv&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Define column headers</span>
</span></span><span style="display:flex;"><span>    fieldnames <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;month&#39;</span>, <span style="color:#e6db74">&#39;revenue&#39;</span>, <span style="color:#e6db74">&#39;expenses&#39;</span>, <span style="color:#e6db74">&#39;profit&#39;</span>]
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Create CSV writer</span>
</span></span><span style="display:flex;"><span>    csv_writer <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>DictWriter(file, fieldnames<span style="color:#f92672">=</span>fieldnames)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Write header row</span>
</span></span><span style="display:flex;"><span>    csv_writer<span style="color:#f92672">.</span>writeheader()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Write data rows</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> month <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">13</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Simple forecast model (for demonstration)</span>
</span></span><span style="display:flex;"><span>        revenue <span style="color:#f92672">=</span> <span style="color:#ae81ff">15000</span> <span style="color:#f92672">+</span> (month <span style="color:#f92672">*</span> <span style="color:#ae81ff">500</span>)  <span style="color:#75715e"># Increasing monthly</span>
</span></span><span style="display:flex;"><span>        expenses <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span> <span style="color:#f92672">+</span> (month <span style="color:#f92672">*</span> <span style="color:#ae81ff">200</span>)  <span style="color:#75715e"># Increasing but slower</span>
</span></span><span style="display:flex;"><span>        profit <span style="color:#f92672">=</span> revenue <span style="color:#f92672">-</span> expenses
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        csv_writer<span style="color:#f92672">.</span>writerow({
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;month&#39;</span>: <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;2025-</span><span style="color:#e6db74">{</span>month<span style="color:#e6db74">:</span><span style="color:#e6db74">02d</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;revenue&#39;</span>: revenue,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;expenses&#39;</span>: expenses,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;profit&#39;</span>: profit
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Budget forecast generated: budget_forecast.csv&#34;</span>)
</span></span></code></pre></div><h2 id="practical-example-expense-analyser">Practical Example: Expense Analyser</h2>
<p>Let&rsquo;s combine everything we&rsquo;ve learned into a practical financial tool that:</p>
<ol>
<li>Reads expense data from a CSV file</li>
<li>Categorises and analyses expenses</li>
<li>Generates a report with summary statistics</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> csv
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">load_expenses</span>(filename):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Load expense data from a CSV file.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    expenses <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(filename, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        reader <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>DictReader(file)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> row <span style="color:#f92672">in</span> reader:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Convert amount to float and date to datetime</span>
</span></span><span style="display:flex;"><span>            row[<span style="color:#e6db74">&#39;amount&#39;</span>] <span style="color:#f92672">=</span> float(row[<span style="color:#e6db74">&#39;amount&#39;</span>])
</span></span><span style="display:flex;"><span>            row[<span style="color:#e6db74">&#39;date&#39;</span>] <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>strptime(row[<span style="color:#e6db74">&#39;date&#39;</span>], <span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>            expenses<span style="color:#f92672">.</span>append(row)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> expenses
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">categorize_expenses</span>(expenses):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Group expenses by category.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    categories <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> expense <span style="color:#f92672">in</span> expenses:
</span></span><span style="display:flex;"><span>        category <span style="color:#f92672">=</span> expense[<span style="color:#e6db74">&#39;category&#39;</span>]
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> category <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> categories:
</span></span><span style="display:flex;"><span>            categories[category] <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        categories[category]<span style="color:#f92672">.</span>append(expense)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> categories
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_category_totals</span>(categories):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Calculate total amount for each expense category.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    totals <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> category, expenses <span style="color:#f92672">in</span> categories<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>        totals[category] <span style="color:#f92672">=</span> sum(expense[<span style="color:#e6db74">&#39;amount&#39;</span>] <span style="color:#66d9ef">for</span> expense <span style="color:#f92672">in</span> expenses)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> totals
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">generate_expense_report</span>(expenses, categories, totals, output_file):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Generate a detailed expense report.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    total_expenses <span style="color:#f92672">=</span> sum(totals<span style="color:#f92672">.</span>values())
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(output_file, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Write header</span>
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;EXPENSE ANALYSIS REPORT</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;======================</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Write summary</span>
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total Expenses: $</span><span style="color:#e6db74">{</span>total_expenses<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Number of Transactions: </span><span style="color:#e6db74">{</span>len(expenses)<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Date Range: </span><span style="color:#e6db74">{</span>min(e[<span style="color:#e6db74">&#39;date&#39;</span>] <span style="color:#66d9ef">for</span> e <span style="color:#f92672">in</span> expenses)<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> to </span><span style="color:#e6db74">{</span>max(e[<span style="color:#e6db74">&#39;date&#39;</span>] <span style="color:#66d9ef">for</span> e <span style="color:#f92672">in</span> expenses)<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Write category breakdown</span>
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;EXPENSE BREAKDOWN BY CATEGORY</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;----------------------------</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Sort categories by total amount (descending)</span>
</span></span><span style="display:flex;"><span>        sorted_categories <span style="color:#f92672">=</span> sorted(totals<span style="color:#f92672">.</span>items(), key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x: x[<span style="color:#ae81ff">1</span>], reverse<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> category, amount <span style="color:#f92672">in</span> sorted_categories:
</span></span><span style="display:flex;"><span>            percentage <span style="color:#f92672">=</span> (amount <span style="color:#f92672">/</span> total_expenses) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>            file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>category<span style="color:#f92672">.</span>ljust(<span style="color:#ae81ff">20</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>amount<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> (</span><span style="color:#e6db74">{</span>percentage<span style="color:#e6db74">:</span><span style="color:#e6db74">.1f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%)</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Write transaction details for each category</span>
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">DETAILED TRANSACTIONS BY CATEGORY</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;--------------------------------</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> category, amount <span style="color:#f92672">in</span> sorted_categories:
</span></span><span style="display:flex;"><span>            file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>category<span style="color:#f92672">.</span>upper()<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;-&#39;</span> <span style="color:#f92672">*</span> len(category)<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Sort expenses by date</span>
</span></span><span style="display:flex;"><span>            sorted_expenses <span style="color:#f92672">=</span> sorted(categories[category], key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x: x[<span style="color:#e6db74">&#39;date&#39;</span>])
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> expense <span style="color:#f92672">in</span> sorted_expenses:
</span></span><span style="display:flex;"><span>                date_str <span style="color:#f92672">=</span> expense[<span style="color:#e6db74">&#39;date&#39;</span>]<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>                file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>date_str<span style="color:#e6db74">}</span><span style="color:#e6db74"> | </span><span style="color:#e6db74">{</span>expense[<span style="color:#e6db74">&#39;description&#39;</span>]<span style="color:#f92672">.</span>ljust(<span style="color:#ae81ff">30</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> | $</span><span style="color:#e6db74">{</span>expense[<span style="color:#e6db74">&#39;amount&#39;</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Add category subtotal</span>
</span></span><span style="display:flex;"><span>            file<span style="color:#f92672">.</span>write(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;SUBTOTAL:&#39;</span><span style="color:#f92672">.</span>ljust(<span style="color:#ae81ff">41</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>amount<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Usage example (assuming we have an expenses.csv file)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Check if the input file exists</span>
</span></span><span style="display:flex;"><span>    input_file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;expenses.csv&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(input_file):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Error: File &#39;</span><span style="color:#e6db74">{</span>input_file<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39; not found.&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Creating a sample expense file for demonstration...&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Create a sample file for demonstration</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">with</span> open(input_file, <span style="color:#e6db74">&#39;w&#39;</span>, newline<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>            writer <span style="color:#f92672">=</span> csv<span style="color:#f92672">.</span>writer(file)
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;date&#39;</span>, <span style="color:#e6db74">&#39;category&#39;</span>, <span style="color:#e6db74">&#39;description&#39;</span>, <span style="color:#e6db74">&#39;amount&#39;</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-01-05&#39;</span>, <span style="color:#e6db74">&#39;Office&#39;</span>, <span style="color:#e6db74">&#39;Printer paper&#39;</span>, <span style="color:#ae81ff">24.99</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-01-10&#39;</span>, <span style="color:#e6db74">&#39;Software&#39;</span>, <span style="color:#e6db74">&#39;Accounting software&#39;</span>, <span style="color:#ae81ff">89.99</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-01-15&#39;</span>, <span style="color:#e6db74">&#39;Office&#39;</span>, <span style="color:#e6db74">&#39;Desk organiser&#39;</span>, <span style="color:#ae81ff">32.50</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-01-18&#39;</span>, <span style="color:#e6db74">&#39;Travel&#39;</span>, <span style="color:#e6db74">&#39;Client meeting transportation&#39;</span>, <span style="color:#ae81ff">45.75</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-01-22&#39;</span>, <span style="color:#e6db74">&#39;Software&#39;</span>, <span style="color:#e6db74">&#39;Cloud storage subscription&#39;</span>, <span style="color:#ae81ff">9.99</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-01-25&#39;</span>, <span style="color:#e6db74">&#39;Meals&#39;</span>, <span style="color:#e6db74">&#39;Team lunch&#39;</span>, <span style="color:#ae81ff">87.50</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-01-29&#39;</span>, <span style="color:#e6db74">&#39;Office&#39;</span>, <span style="color:#e6db74">&#39;Printer ink&#39;</span>, <span style="color:#ae81ff">65.85</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-02-03&#39;</span>, <span style="color:#e6db74">&#39;Travel&#39;</span>, <span style="color:#e6db74">&#39;Conference registration&#39;</span>, <span style="color:#ae81ff">299.00</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-02-07&#39;</span>, <span style="color:#e6db74">&#39;Meals&#39;</span>, <span style="color:#e6db74">&#39;Client dinner&#39;</span>, <span style="color:#ae81ff">125.40</span>])
</span></span><span style="display:flex;"><span>            writer<span style="color:#f92672">.</span>writerow([<span style="color:#e6db74">&#39;2025-02-15&#39;</span>, <span style="color:#e6db74">&#39;Software&#39;</span>, <span style="color:#e6db74">&#39;Data analysis tool&#39;</span>, <span style="color:#ae81ff">149.99</span>])
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Sample file &#39;</span><span style="color:#e6db74">{</span>input_file<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39; created.&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Process the expense data</span>
</span></span><span style="display:flex;"><span>    expenses <span style="color:#f92672">=</span> load_expenses(input_file)
</span></span><span style="display:flex;"><span>    categories <span style="color:#f92672">=</span> categorize_expenses(expenses)
</span></span><span style="display:flex;"><span>    totals <span style="color:#f92672">=</span> calculate_category_totals(categories)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Generate the report</span>
</span></span><span style="display:flex;"><span>    output_file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;expense_report.txt&#39;</span>
</span></span><span style="display:flex;"><span>    generate_expense_report(expenses, categories, totals, output_file)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Expense report generated: </span><span style="color:#e6db74">{</span>output_file<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><p>This script demonstrates:</p>
<ul>
<li>Function definitions with docstrings</li>
<li>File I/O with the <code>with</code> statement</li>
<li>CSV processing</li>
<li>Module imports and usage</li>
<li>Error handling</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Functions, modules, and file I/O form the backbone of most Python applications, especially for financial tasks. By mastering these concepts, you&rsquo;ll be well-equipped to build tools for financial analysis, reporting, and automation.</p>
<p>In the next post, we&rsquo;ll explore virtual environments and package management, which will help you manage dependencies for larger projects.</p>
<p><strong>Practice Exercise:</strong> Try extending the expense analyser to calculate monthly trends or generate a simple visualisation of spending by category. This will help reinforce the concepts we&rsquo;ve covered while building something useful for your financial toolkit.</p>
]]></content:encoded></item><item><title>Part 4: Core Data Structures in Python</title><link>https://michaelbrunger.com/python-core-data-structures/</link><pubDate>Tue, 20 May 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-core-data-structures/</guid><description>Explore Python&amp;#39;s essential data structures: lists, tuples, dictionaries, and sets. Learn creation methods, manipulation techniques, and guidelines for choosing the right structure for your tasks.</description><content:encoded><![CDATA[<h1 id="post-4-core-data-structures">Post 4: Core Data Structures</h1>
<p>Welcome to the fourth post in my Python learning journey. So far, we&rsquo;ve installed Python, set up a development environment, and explored the basic syntax. Now it&rsquo;s time to dive deeper into Python&rsquo;s core data structures; the building blocks you&rsquo;ll use to organise and manipulate data in your programs.</p>
<p>In this post, we&rsquo;ll cover:</p>
<ol>
<li>Lists: Python&rsquo;s versatile sequence type</li>
<li>Tuples: Immutable collections</li>
<li>Dictionaries: Key-value mapping</li>
<li>Sets: Unique value collections</li>
<li>Choosing the right data structure</li>
</ol>
<p>I&rsquo;ve found these data structures similar to concepts we use every day; lists are like columns in spreadsheets, dictionaries resemble lookup tables, and sets are perfect for tracking unique items like account codes.</p>
<hr>
<h2 id="1-lists">1. Lists</h2>
<p>Lists are ordered, mutable (changeable) collections that can contain items of different types. They&rsquo;re perhaps the most commonly used data structure in Python.</p>
<h3 id="11-creating-lists">1.1 Creating Lists</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Empty list</span>
</span></span><span style="display:flex;"><span>empty_list <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># List with initial values</span>
</span></span><span style="display:flex;"><span>numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>mixed_data <span style="color:#f92672">=</span> [<span style="color:#ae81ff">42</span>, <span style="color:#e6db74">&#34;hello&#34;</span>, <span style="color:#66d9ef">True</span>, <span style="color:#ae81ff">3.14</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Creating a list with the list() constructor</span>
</span></span><span style="display:flex;"><span>chars <span style="color:#f92672">=</span> list(<span style="color:#e6db74">&#34;Python&#34;</span>)  <span style="color:#75715e"># [&#39;P&#39;, &#39;y&#39;, &#39;t&#39;, &#39;h&#39;, &#39;o&#39;, &#39;n&#39;]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># List of repeated values</span>
</span></span><span style="display:flex;"><span>zeros <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">5</span>  <span style="color:#75715e"># [0, 0, 0, 0, 0]</span>
</span></span></code></pre></div><h3 id="12-accessing-list-elements">1.2 Accessing List Elements</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>expenses <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1200</span>, <span style="color:#ae81ff">450</span>, <span style="color:#ae81ff">700</span>, <span style="color:#ae81ff">95</span>, <span style="color:#ae81ff">800</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Indexing (zero-based)</span>
</span></span><span style="display:flex;"><span>first_expense <span style="color:#f92672">=</span> expenses[<span style="color:#ae81ff">0</span>]  <span style="color:#75715e"># 1200</span>
</span></span><span style="display:flex;"><span>last_expense <span style="color:#f92672">=</span> expenses[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]  <span style="color:#75715e"># 800</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Slicing [start:end:step] - end index is exclusive</span>
</span></span><span style="display:flex;"><span>first_three <span style="color:#f92672">=</span> expenses[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">3</span>]  <span style="color:#75715e"># [1200, 450, 700]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Shorthand for starting from beginning</span>
</span></span><span style="display:flex;"><span>first_three <span style="color:#f92672">=</span> expenses[:<span style="color:#ae81ff">3</span>]   <span style="color:#75715e"># [1200, 450, 700]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Shorthand for going to the end</span>
</span></span><span style="display:flex;"><span>last_three <span style="color:#f92672">=</span> expenses[<span style="color:#ae81ff">2</span>:]    <span style="color:#75715e"># [700, 95, 800]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Negative indices count from the end</span>
</span></span><span style="display:flex;"><span>last_two <span style="color:#f92672">=</span> expenses[<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>:]     <span style="color:#75715e"># [95, 800]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Step value</span>
</span></span><span style="display:flex;"><span>every_other <span style="color:#f92672">=</span> expenses[::<span style="color:#ae81ff">2</span>]  <span style="color:#75715e"># [1200, 700, 800]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Reverse a list</span>
</span></span><span style="display:flex;"><span>reversed_expenses <span style="color:#f92672">=</span> expenses[::<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]  <span style="color:#75715e"># [800, 95, 700, 450, 1200]</span>
</span></span></code></pre></div><h3 id="13-modifying-lists">1.3 Modifying Lists</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>departments <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Finance&#34;</span>, <span style="color:#e6db74">&#34;Marketing&#34;</span>, <span style="color:#e6db74">&#34;IT&#34;</span>, <span style="color:#e6db74">&#34;Operations&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Changing an element</span>
</span></span><span style="display:flex;"><span>departments[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Digital Marketing&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Adding elements</span>
</span></span><span style="display:flex;"><span>departments<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#34;HR&#34;</span>)  <span style="color:#75715e"># Adds to the end</span>
</span></span><span style="display:flex;"><span>departments<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;Sales&#34;</span>)  <span style="color:#75715e"># Inserts at specific position</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Removing elements</span>
</span></span><span style="display:flex;"><span>departments<span style="color:#f92672">.</span>remove(<span style="color:#e6db74">&#34;IT&#34;</span>)  <span style="color:#75715e"># Removes first occurrence of value</span>
</span></span><span style="display:flex;"><span>popped_item <span style="color:#f92672">=</span> departments<span style="color:#f92672">.</span>pop()  <span style="color:#75715e"># Removes and returns last item</span>
</span></span><span style="display:flex;"><span>popped_item <span style="color:#f92672">=</span> departments<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">1</span>)  <span style="color:#75715e"># Removes item at index 1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> departments[<span style="color:#ae81ff">0</span>]  <span style="color:#75715e"># Removes item at index 0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Extending lists</span>
</span></span><span style="display:flex;"><span>dept1 <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Finance&#34;</span>, <span style="color:#e6db74">&#34;HR&#34;</span>]
</span></span><span style="display:flex;"><span>dept2 <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;IT&#34;</span>, <span style="color:#e6db74">&#34;Operations&#34;</span>]
</span></span><span style="display:flex;"><span>dept1<span style="color:#f92672">.</span>extend(dept2)  <span style="color:#75715e"># dept1 now contains [&#34;Finance&#34;, &#34;HR&#34;, &#34;IT&#34;, &#34;Operations&#34;]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Alternative: concatenation</span>
</span></span><span style="display:flex;"><span>all_depts <span style="color:#f92672">=</span> dept1 <span style="color:#f92672">+</span> dept2  <span style="color:#75715e"># Creates a new list</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Finding elements</span>
</span></span><span style="display:flex;"><span>position <span style="color:#f92672">=</span> departments<span style="color:#f92672">.</span>index(<span style="color:#e6db74">&#34;HR&#34;</span>)  <span style="color:#75715e"># Raises ValueError if not found</span>
</span></span><span style="display:flex;"><span>count <span style="color:#f92672">=</span> departments<span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#34;Finance&#34;</span>)  <span style="color:#75715e"># Counts occurrences of value</span>
</span></span></code></pre></div><h3 id="14-useful-list-operations">1.4 Useful List Operations</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Sorting</span>
</span></span><span style="display:flex;"><span>numbers<span style="color:#f92672">.</span>sort()  <span style="color:#75715e"># Modifies the list in-place: [1, 2, 5, 8, 9]</span>
</span></span><span style="display:flex;"><span>numbers<span style="color:#f92672">.</span>sort(reverse<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  <span style="color:#75715e"># Descending order: [9, 8, 5, 2, 1]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># If you don&#39;t want to modify the original list</span>
</span></span><span style="display:flex;"><span>sorted_numbers <span style="color:#f92672">=</span> sorted(numbers)  <span style="color:#75715e"># Returns a new sorted list</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Reversing</span>
</span></span><span style="display:flex;"><span>numbers<span style="color:#f92672">.</span>reverse()  <span style="color:#75715e"># Modifies the list in-place</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Finding min/max</span>
</span></span><span style="display:flex;"><span>minimum <span style="color:#f92672">=</span> min(numbers)
</span></span><span style="display:flex;"><span>maximum <span style="color:#f92672">=</span> max(numbers)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Sum of all elements</span>
</span></span><span style="display:flex;"><span>total <span style="color:#f92672">=</span> sum(numbers)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Checking membership</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">in</span> numbers:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Found 5 in the list!&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># List comprehension (filtering and transforming)</span>
</span></span><span style="display:flex;"><span>even_numbers <span style="color:#f92672">=</span> [x <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> numbers <span style="color:#66d9ef">if</span> x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>doubled <span style="color:#f92672">=</span> [x <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> numbers]
</span></span></code></pre></div><h3 id="15-nested-lists-2d-lists">1.5 Nested Lists (2D Lists)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Quarterly expenses by department</span>
</span></span><span style="display:flex;"><span>quarterly_expenses <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    [<span style="color:#ae81ff">1200</span>, <span style="color:#ae81ff">1500</span>, <span style="color:#ae81ff">1100</span>, <span style="color:#ae81ff">1800</span>],  <span style="color:#75715e"># Finance</span>
</span></span><span style="display:flex;"><span>    [<span style="color:#ae81ff">900</span>, <span style="color:#ae81ff">950</span>, <span style="color:#ae81ff">1025</span>, <span style="color:#ae81ff">1150</span>],    <span style="color:#75715e"># Marketing</span>
</span></span><span style="display:flex;"><span>    [<span style="color:#ae81ff">850</span>, <span style="color:#ae81ff">880</span>, <span style="color:#ae81ff">920</span>, <span style="color:#ae81ff">980</span>]       <span style="color:#75715e"># IT</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Accessing elements</span>
</span></span><span style="display:flex;"><span>finance_q1 <span style="color:#f92672">=</span> quarterly_expenses[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>]  <span style="color:#75715e"># 1200</span>
</span></span><span style="display:flex;"><span>marketing_q3 <span style="color:#f92672">=</span> quarterly_expenses[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">2</span>]  <span style="color:#75715e"># 1025</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Looping through a 2D list</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> department <span style="color:#f92672">in</span> quarterly_expenses:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> expense <span style="color:#f92672">in</span> department:
</span></span><span style="display:flex;"><span>        print(expense, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34; &#34;</span>)
</span></span><span style="display:flex;"><span>    print()  <span style="color:#75715e"># New line after each department</span>
</span></span></code></pre></div><hr>
<h2 id="2-tuples">2. Tuples</h2>
<p>Tuples are similar to lists but are immutable (cannot be changed after creation). They&rsquo;re commonly used for fixed collections of items.</p>
<h3 id="21-creating-tuples">2.1 Creating Tuples</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Empty tuple</span>
</span></span><span style="display:flex;"><span>empty_tuple <span style="color:#f92672">=</span> ()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Tuple with values</span>
</span></span><span style="display:flex;"><span>coordinates <span style="color:#f92672">=</span> (<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span>person <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#34;John&#34;</span>, <span style="color:#ae81ff">30</span>, <span style="color:#e6db74">&#34;Developer&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Single-item tuple needs a comma</span>
</span></span><span style="display:flex;"><span>single_item <span style="color:#f92672">=</span> (<span style="color:#ae81ff">42</span>,)  <span style="color:#75715e"># Without comma, it&#39;s just a number in parentheses</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Tuple packing (no parentheses needed)</span>
</span></span><span style="display:flex;"><span>employee <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Jane&#34;</span>, <span style="color:#ae81ff">35</span>, <span style="color:#e6db74">&#34;Manager&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Creating with tuple() constructor</span>
</span></span><span style="display:flex;"><span>letters <span style="color:#f92672">=</span> tuple(<span style="color:#e6db74">&#34;abc&#34;</span>)  <span style="color:#75715e"># (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)</span>
</span></span></code></pre></div><h3 id="22-accessing-tuple-elements">2.2 Accessing Tuple Elements</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>coordinates <span style="color:#f92672">=</span> (<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Similar to list indexing and slicing</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> coordinates[<span style="color:#ae81ff">0</span>]  <span style="color:#75715e"># 10</span>
</span></span><span style="display:flex;"><span>last <span style="color:#f92672">=</span> coordinates[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]  <span style="color:#75715e"># 50</span>
</span></span><span style="display:flex;"><span>subset <span style="color:#f92672">=</span> coordinates[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">4</span>]  <span style="color:#75715e"># (20, 30, 40)</span>
</span></span></code></pre></div><h3 id="23-tuple-operations">2.3 Tuple Operations</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>employee <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#34;Jane&#34;</span>, <span style="color:#ae81ff">35</span>, <span style="color:#e6db74">&#34;Manager&#34;</span>, <span style="color:#e6db74">&#34;HR&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Count and index (like lists)</span>
</span></span><span style="display:flex;"><span>age_pos <span style="color:#f92672">=</span> employee<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">35</span>)
</span></span><span style="display:flex;"><span>count <span style="color:#f92672">=</span> employee<span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#34;Manager&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Concatenation</span>
</span></span><span style="display:flex;"><span>more_info <span style="color:#f92672">=</span> employee <span style="color:#f92672">+</span> (<span style="color:#e6db74">&#34;Full-time&#34;</span>,)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Unpacking (very useful feature!)</span>
</span></span><span style="display:flex;"><span>name, age, role, department <span style="color:#f92672">=</span> employee
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Returning multiple values from a function (using tuple unpacking)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_employee_stats</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Jane&#34;</span>, <span style="color:#ae81ff">35</span>, <span style="color:#ae81ff">85000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>name, age, salary <span style="color:#f92672">=</span> get_employee_stats()
</span></span></code></pre></div><h3 id="24-why-use-tuples">2.4 Why Use Tuples?</h3>
<ol>
<li><strong>Immutability</strong> - Values can&rsquo;t be changed accidentally</li>
<li><strong>Hashable</strong> - Can be used as dictionary keys (lists cannot)</li>
<li><strong>Slightly more efficient</strong> than lists for fixed data</li>
<li><strong>Signal intent</strong> - Using a tuple indicates the data shouldn&rsquo;t change</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Using tuples as dictionary keys (not possible with lists)</span>
</span></span><span style="display:flex;"><span>locations <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">40.7128</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">74.0060</span>): <span style="color:#e6db74">&#34;New York&#34;</span>,
</span></span><span style="display:flex;"><span>    (<span style="color:#ae81ff">34.0522</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">118.2437</span>): <span style="color:#e6db74">&#34;Los Angeles&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h2 id="3-dictionaries">3. Dictionaries</h2>
<p>Dictionaries store data as key-value pairs, providing fast lookups by key. They&rsquo;re unordered in Python versions before 3.7 and preserve insertion order in 3.7+.</p>
<h3 id="31-creating-dictionaries">3.1 Creating Dictionaries</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Empty dictionary</span>
</span></span><span style="display:flex;"><span>empty_dict <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Dictionary with initial key-value pairs</span>
</span></span><span style="display:flex;"><span>employee <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Jane Smith&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;age&#34;</span>: <span style="color:#ae81ff">35</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;department&#34;</span>: <span style="color:#e6db74">&#34;Finance&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;salary&#34;</span>: <span style="color:#ae81ff">75000</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Alternative creation with dict() constructor</span>
</span></span><span style="display:flex;"><span>employee <span style="color:#f92672">=</span> dict(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Jane Smith&#34;</span>, age<span style="color:#f92672">=</span><span style="color:#ae81ff">35</span>, department<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Finance&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Creating from sequences of pairs</span>
</span></span><span style="display:flex;"><span>items <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#34;name&#34;</span>, <span style="color:#e6db74">&#34;Jane&#34;</span>), (<span style="color:#e6db74">&#34;age&#34;</span>, <span style="color:#ae81ff">35</span>)]
</span></span><span style="display:flex;"><span>employee <span style="color:#f92672">=</span> dict(items)
</span></span></code></pre></div><h3 id="32-accessing-dictionary-values">3.2 Accessing Dictionary Values</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>employee <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Jane Smith&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;age&#34;</span>: <span style="color:#ae81ff">35</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;department&#34;</span>: <span style="color:#e6db74">&#34;Finance&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;salary&#34;</span>: <span style="color:#ae81ff">75000</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Access by key</span>
</span></span><span style="display:flex;"><span>name <span style="color:#f92672">=</span> employee[<span style="color:#e6db74">&#34;name&#34;</span>]  <span style="color:#75715e"># &#34;Jane Smith&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># KeyError if key doesn&#39;t exist</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># salary = employee[&#34;bonus&#34;]  # Raises KeyError</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Using get() method (safer, returns None or default value if key not found)</span>
</span></span><span style="display:flex;"><span>bonus <span style="color:#f92672">=</span> employee<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;bonus&#34;</span>)  <span style="color:#75715e"># None</span>
</span></span><span style="display:flex;"><span>bonus <span style="color:#f92672">=</span> employee<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;bonus&#34;</span>, <span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># Returns 0 if key not found</span>
</span></span></code></pre></div><h3 id="33-modifying-dictionaries">3.3 Modifying Dictionaries</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>employee <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Jane&#34;</span>, <span style="color:#e6db74">&#34;department&#34;</span>: <span style="color:#e6db74">&#34;Finance&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Adding or updating values</span>
</span></span><span style="display:flex;"><span>employee[<span style="color:#e6db74">&#34;age&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">35</span>  <span style="color:#75715e"># Add new key-value pair</span>
</span></span><span style="display:flex;"><span>employee[<span style="color:#e6db74">&#34;name&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Jane Smith&#34;</span>  <span style="color:#75715e"># Update existing value</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Removing items</span>
</span></span><span style="display:flex;"><span>removed_value <span style="color:#f92672">=</span> employee<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#34;age&#34;</span>)  <span style="color:#75715e"># Removes and returns value</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> employee[<span style="color:#e6db74">&#34;department&#34;</span>]  <span style="color:#75715e"># Removes key-value pair</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Clearing all items</span>
</span></span><span style="display:flex;"><span>employee<span style="color:#f92672">.</span>clear()  <span style="color:#75715e"># Empty dictionary {}</span>
</span></span></code></pre></div><h3 id="34-useful-dictionary-operations">3.4 Useful Dictionary Operations</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>expenses <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;rent&#34;</span>: <span style="color:#ae81ff">1200</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;utilities&#34;</span>: <span style="color:#ae81ff">250</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;groceries&#34;</span>: <span style="color:#ae81ff">400</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;entertainment&#34;</span>: <span style="color:#ae81ff">150</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Get all keys</span>
</span></span><span style="display:flex;"><span>keys <span style="color:#f92672">=</span> expenses<span style="color:#f92672">.</span>keys()  <span style="color:#75715e"># dict_keys([&#39;rent&#39;, &#39;utilities&#39;, &#39;groceries&#39;, &#39;entertainment&#39;])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Get all values</span>
</span></span><span style="display:flex;"><span>values <span style="color:#f92672">=</span> expenses<span style="color:#f92672">.</span>values()  <span style="color:#75715e"># dict_values([1200, 250, 400, 150])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Get all key-value pairs as tuples</span>
</span></span><span style="display:flex;"><span>items <span style="color:#f92672">=</span> expenses<span style="color:#f92672">.</span>items()  <span style="color:#75715e"># dict_items([(&#39;rent&#39;, 1200), (&#39;utilities&#39;, 250), ...])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Iterating over a dictionary</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> key <span style="color:#f92672">in</span> expenses:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>key<span style="color:#e6db74">}</span><span style="color:#e6db74">: $</span><span style="color:#e6db74">{</span>expenses[key]<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Better way to iterate over keys and values</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> category, amount <span style="color:#f92672">in</span> expenses<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>category<span style="color:#e6db74">}</span><span style="color:#e6db74">: $</span><span style="color:#e6db74">{</span>amount<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check if key exists</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;rent&#34;</span> <span style="color:#f92672">in</span> expenses:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Rent is accounted for&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Merging dictionaries (Python 3.9+)</span>
</span></span><span style="display:flex;"><span>monthly <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;rent&#34;</span>: <span style="color:#ae81ff">1200</span>, <span style="color:#e6db74">&#34;utilities&#34;</span>: <span style="color:#ae81ff">250</span>}
</span></span><span style="display:flex;"><span>occasional <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;repairs&#34;</span>: <span style="color:#ae81ff">100</span>, <span style="color:#e6db74">&#34;insurance&#34;</span>: <span style="color:#ae81ff">80</span>}
</span></span><span style="display:flex;"><span>all_expenses <span style="color:#f92672">=</span> monthly <span style="color:#f92672">|</span> occasional  <span style="color:#75715e"># Python 3.9+</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Merging dictionaries (earlier versions)</span>
</span></span><span style="display:flex;"><span>all_expenses <span style="color:#f92672">=</span> {<span style="color:#f92672">**</span>monthly, <span style="color:#f92672">**</span>occasional}  <span style="color:#75715e"># Unpacking syntax</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Dictionary comprehension</span>
</span></span><span style="display:flex;"><span>doubled_expenses <span style="color:#f92672">=</span> {k: v <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> k, v <span style="color:#f92672">in</span> expenses<span style="color:#f92672">.</span>items()}
</span></span><span style="display:flex;"><span>large_expenses <span style="color:#f92672">=</span> {k: v <span style="color:#66d9ef">for</span> k, v <span style="color:#f92672">in</span> expenses<span style="color:#f92672">.</span>items() <span style="color:#66d9ef">if</span> v <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">200</span>}
</span></span></code></pre></div><h3 id="35-nested-dictionaries">3.5 Nested Dictionaries</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Department budget by quarter and category</span>
</span></span><span style="display:flex;"><span>department_budget <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Finance&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Q1&#34;</span>: {<span style="color:#e6db74">&#34;salaries&#34;</span>: <span style="color:#ae81ff">50000</span>, <span style="color:#e6db74">&#34;equipment&#34;</span>: <span style="color:#ae81ff">10000</span>, <span style="color:#e6db74">&#34;travel&#34;</span>: <span style="color:#ae81ff">5000</span>},
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Q2&#34;</span>: {<span style="color:#e6db74">&#34;salaries&#34;</span>: <span style="color:#ae81ff">52000</span>, <span style="color:#e6db74">&#34;equipment&#34;</span>: <span style="color:#ae81ff">8000</span>, <span style="color:#e6db74">&#34;travel&#34;</span>: <span style="color:#ae81ff">6000</span>}
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;IT&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Q1&#34;</span>: {<span style="color:#e6db74">&#34;salaries&#34;</span>: <span style="color:#ae81ff">60000</span>, <span style="color:#e6db74">&#34;equipment&#34;</span>: <span style="color:#ae81ff">20000</span>, <span style="color:#e6db74">&#34;travel&#34;</span>: <span style="color:#ae81ff">3000</span>},
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Q2&#34;</span>: {<span style="color:#e6db74">&#34;salaries&#34;</span>: <span style="color:#ae81ff">65000</span>, <span style="color:#e6db74">&#34;equipment&#34;</span>: <span style="color:#ae81ff">15000</span>, <span style="color:#e6db74">&#34;travel&#34;</span>: <span style="color:#ae81ff">2000</span>}
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Accessing nested values</span>
</span></span><span style="display:flex;"><span>finance_q1_salaries <span style="color:#f92672">=</span> department_budget[<span style="color:#e6db74">&#34;Finance&#34;</span>][<span style="color:#e6db74">&#34;Q1&#34;</span>][<span style="color:#e6db74">&#34;salaries&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Safely accessing nested values</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pprint  <span style="color:#75715e"># Pretty print module for better display of nested structures</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Loop through nested dictionary</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> dept, quarters <span style="color:#f92672">in</span> department_budget<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span>dept<span style="color:#e6db74">}</span><span style="color:#e6db74"> Department:&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> quarter, categories <span style="color:#f92672">in</span> quarters<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;  </span><span style="color:#e6db74">{</span>quarter<span style="color:#e6db74">}</span><span style="color:#e6db74">:&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> category, amount <span style="color:#f92672">in</span> categories<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;    </span><span style="color:#e6db74">{</span>category<span style="color:#e6db74">}</span><span style="color:#e6db74">: $</span><span style="color:#e6db74">{</span>amount<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><hr>
<h2 id="4-sets">4. Sets</h2>
<p>Sets are unordered collections of unique elements. They&rsquo;re perfect for removing duplicates and performing mathematical set operations.</p>
<h3 id="41-creating-sets">4.1 Creating Sets</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Empty set (can&#39;t use {} as that creates an empty dictionary)</span>
</span></span><span style="display:flex;"><span>empty_set <span style="color:#f92672">=</span> set()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set with initial values</span>
</span></span><span style="display:flex;"><span>fruits <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;apple&#34;</span>, <span style="color:#e6db74">&#34;banana&#34;</span>, <span style="color:#e6db74">&#34;cherry&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Creating a set from a list (removes duplicates)</span>
</span></span><span style="display:flex;"><span>numbers <span style="color:#f92672">=</span> set([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  <span style="color:#75715e"># {1, 2, 3, 4, 5}</span>
</span></span><span style="display:flex;"><span>unique_chars <span style="color:#f92672">=</span> set(<span style="color:#e6db74">&#34;mississippi&#34;</span>)  <span style="color:#75715e"># {&#39;m&#39;, &#39;i&#39;, &#39;s&#39;, &#39;p&#39;}</span>
</span></span></code></pre></div><h3 id="42-set-operations">4.2 Set Operations</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>employees_dept_a <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Jess&#34;</span>, <span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#e6db74">&#34;Charlie&#34;</span>, <span style="color:#e6db74">&#34;David&#34;</span>}
</span></span><span style="display:flex;"><span>employees_dept_b <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Charlie&#34;</span>, <span style="color:#e6db74">&#34;David&#34;</span>, <span style="color:#e6db74">&#34;Eve&#34;</span>, <span style="color:#e6db74">&#34;Frank&#34;</span>}
</span></span><span style="display:flex;"><span>candidates <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;Eve&#34;</span>, <span style="color:#e6db74">&#34;Grace&#34;</span>, <span style="color:#e6db74">&#34;Heidi&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add and remove elements</span>
</span></span><span style="display:flex;"><span>employees_dept_a<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#34;Grace&#34;</span>)
</span></span><span style="display:flex;"><span>employees_dept_a<span style="color:#f92672">.</span>remove(<span style="color:#e6db74">&#34;Bob&#34;</span>)  <span style="color:#75715e"># Raises KeyError if not found</span>
</span></span><span style="display:flex;"><span>employees_dept_a<span style="color:#f92672">.</span>discard(<span style="color:#e6db74">&#34;Bob&#34;</span>)  <span style="color:#75715e"># No error if not found</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set operations</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Union (all employees)</span>
</span></span><span style="display:flex;"><span>all_employees <span style="color:#f92672">=</span> employees_dept_a <span style="color:#f92672">|</span> employees_dept_b
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or</span>
</span></span><span style="display:flex;"><span>all_employees <span style="color:#f92672">=</span> employees_dept_a<span style="color:#f92672">.</span>union(employees_dept_b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Intersection (employees in both departments)</span>
</span></span><span style="display:flex;"><span>in_both_depts <span style="color:#f92672">=</span> employees_dept_a <span style="color:#f92672">&amp;</span> employees_dept_b
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or</span>
</span></span><span style="display:flex;"><span>in_both_depts <span style="color:#f92672">=</span> employees_dept_a<span style="color:#f92672">.</span>intersection(employees_dept_b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Difference (employees in A but not in B)</span>
</span></span><span style="display:flex;"><span>only_in_a <span style="color:#f92672">=</span> employees_dept_a <span style="color:#f92672">-</span> employees_dept_b
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or</span>
</span></span><span style="display:flex;"><span>only_in_a <span style="color:#f92672">=</span> employees_dept_a<span style="color:#f92672">.</span>difference(employees_dept_b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Symmetric difference (employees in either dept but not both)</span>
</span></span><span style="display:flex;"><span>in_one_dept <span style="color:#f92672">=</span> employees_dept_a <span style="color:#f92672">^</span> employees_dept_b
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or</span>
</span></span><span style="display:flex;"><span>in_one_dept <span style="color:#f92672">=</span> employees_dept_a<span style="color:#f92672">.</span>symmetric_difference(employees_dept_b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Subset and superset</span>
</span></span><span style="display:flex;"><span>is_subset <span style="color:#f92672">=</span> employees_dept_a <span style="color:#f92672">&lt;=</span> employees_dept_b  <span style="color:#75715e"># False</span>
</span></span><span style="display:flex;"><span>is_proper_subset <span style="color:#f92672">=</span> candidates <span style="color:#f92672">&lt;</span> all_employees  <span style="color:#75715e"># True (candidates is a proper subset of all_employees)</span>
</span></span></code></pre></div><h3 id="43-common-set-uses">4.3 Common Set Uses</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Removing duplicates from a list</span>
</span></span><span style="display:flex;"><span>transactions <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1001</span>, <span style="color:#ae81ff">1002</span>, <span style="color:#ae81ff">1001</span>, <span style="color:#ae81ff">1003</span>, <span style="color:#ae81ff">1002</span>, <span style="color:#ae81ff">1004</span>]
</span></span><span style="display:flex;"><span>unique_transactions <span style="color:#f92672">=</span> list(set(transactions))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Membership testing (very efficient for large datasets)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;Jess&#34;</span> <span style="color:#f92672">in</span> employees_dept_a:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Jess works in Department A&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Finding common elements</span>
</span></span><span style="display:flex;"><span>customer_ids <span style="color:#f92672">=</span> {<span style="color:#ae81ff">101</span>, <span style="color:#ae81ff">102</span>, <span style="color:#ae81ff">103</span>, <span style="color:#ae81ff">104</span>, <span style="color:#ae81ff">105</span>}
</span></span><span style="display:flex;"><span>premium_ids <span style="color:#f92672">=</span> {<span style="color:#ae81ff">102</span>, <span style="color:#ae81ff">104</span>, <span style="color:#ae81ff">106</span>}
</span></span><span style="display:flex;"><span>common_ids <span style="color:#f92672">=</span> customer_ids <span style="color:#f92672">&amp;</span> premium_ids
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set comprehensions</span>
</span></span><span style="display:flex;"><span>even_numbers <span style="color:#f92672">=</span> {x <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>) <span style="color:#66d9ef">if</span> x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>}  <span style="color:#75715e"># {0, 2, 4, 6, 8}</span>
</span></span></code></pre></div><hr>
<h2 id="5-choosing-the-right-data-structure">5. Choosing the Right Data Structure</h2>
<p>Selecting the appropriate data structure can make your code more efficient and readable. Here&rsquo;s a quick guide:</p>
<h3 id="51-when-to-use-each-structure">5.1 When to Use Each Structure</h3>
<p><strong>Use Lists when:</strong></p>
<ul>
<li>You need an ordered collection</li>
<li>Items might need to be changed, added, or removed</li>
<li>You need to store duplicate values</li>
<li>You need to maintain insertion order</li>
</ul>
<p><strong>Use Tuples when:</strong></p>
<ul>
<li>You have a fixed collection that shouldn&rsquo;t change</li>
<li>You want to return multiple values from a function</li>
<li>You need elements that can serve as dictionary keys</li>
<li>You want to ensure data integrity (immutability)</li>
</ul>
<p><strong>Use Dictionaries when:</strong></p>
<ul>
<li>You need key-value mapping (lookups by key)</li>
<li>You want fast lookups by a specific identifier</li>
<li>You&rsquo;re working with named attributes or properties</li>
<li>You need to count occurrences of items</li>
</ul>
<p><strong>Use Sets when:</strong></p>
<ul>
<li>You only care about unique values (no duplicates)</li>
<li>You need to perform set operations (union, intersection)</li>
<li>You want to quickly check if an item exists</li>
<li>You&rsquo;re removing duplicates from a collection</li>
</ul>
<h3 id="52-performance-considerations">5.2 Performance Considerations</h3>
<p>Data structure choice affects performance. In general:</p>
<ul>
<li><strong>Lists</strong>: O(1) for append/pop at end, O(n) for insert/delete elsewhere</li>
<li><strong>Dictionaries</strong>: O(1) average for key lookups, insertions, and deletions</li>
<li><strong>Sets</strong>: O(1) average for membership testing, adding, removing</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Example: Different approaches to counting word frequencies</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;to be or not to be that is the question&#34;</span>
</span></span><span style="display:flex;"><span>words <span style="color:#f92672">=</span> text<span style="color:#f92672">.</span>split()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Using a list (inefficient for counting)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_with_list</span>(words):
</span></span><span style="display:flex;"><span>    counts <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> word <span style="color:#f92672">in</span> words:
</span></span><span style="display:flex;"><span>        found <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> item <span style="color:#f92672">in</span> counts:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> item[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> word:
</span></span><span style="display:flex;"><span>                item[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                found <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> found:
</span></span><span style="display:flex;"><span>            counts<span style="color:#f92672">.</span>append([word, <span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> counts
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Using a dictionary (efficient)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_with_dict</span>(words):
</span></span><span style="display:flex;"><span>    counts <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> word <span style="color:#f92672">in</span> words:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> word <span style="color:#f92672">in</span> counts:
</span></span><span style="display:flex;"><span>            counts[word] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            counts[word] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> counts
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Even more concise with collections.Counter</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> Counter
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_with_counter</span>(words):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Counter(words)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Compare results</span>
</span></span><span style="display:flex;"><span>print(count_with_list(words))
</span></span><span style="display:flex;"><span>print(count_with_dict(words))
</span></span><span style="display:flex;"><span>print(dict(count_with_counter(words)))
</span></span></code></pre></div><hr>
<h2 id="practice-exercise-financial-portfolio-tracker">Practice Exercise: Financial Portfolio Tracker</h2>
<p>Let&rsquo;s apply these data structures by creating a simple portfolio tracker:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">portfolio_tracker</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Initialise portfolio using a dictionary of dictionaries</span>
</span></span><span style="display:flex;"><span>    portfolio <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>    transactions <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Portfolio Tracker&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;1. Add stock&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;2. Record transaction&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;3. View portfolio&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;4. View transaction history&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;5. Top holdings&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;6. Exit&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        choice <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Enter your choice (1-6): &#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;1&#34;</span>:
</span></span><span style="display:flex;"><span>            ticker <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Enter stock ticker symbol: &#34;</span>)<span style="color:#f92672">.</span>upper()
</span></span><span style="display:flex;"><span>            company <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Enter company name: &#34;</span>)
</span></span><span style="display:flex;"><span>            sector <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Enter sector: &#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            portfolio[ticker] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;company&#34;</span>: company,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;sector&#34;</span>: sector,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;shares&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;cost_basis&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;current_price&#34;</span>: float(input(<span style="color:#e6db74">&#34;Enter current price: $&#34;</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Added </span><span style="color:#e6db74">{</span>ticker<span style="color:#e6db74">}</span><span style="color:#e6db74"> to portfolio.&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;2&#34;</span>:
</span></span><span style="display:flex;"><span>            ticker <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Enter stock ticker symbol: &#34;</span>)<span style="color:#f92672">.</span>upper()
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> ticker <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> portfolio:
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Error: </span><span style="color:#e6db74">{</span>ticker<span style="color:#e6db74">}</span><span style="color:#e6db74"> not in portfolio. Add it first.&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            transaction_type <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Buy or sell? &#34;</span>)<span style="color:#f92672">.</span>lower()
</span></span><span style="display:flex;"><span>            shares <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Number of shares: &#34;</span>))
</span></span><span style="display:flex;"><span>            price <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Price per share: $&#34;</span>))
</span></span><span style="display:flex;"><span>            date <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;Date (YYYY-MM-DD): &#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Record transaction</span>
</span></span><span style="display:flex;"><span>            transaction <span style="color:#f92672">=</span> (date, ticker, transaction_type, shares, price)
</span></span><span style="display:flex;"><span>            transactions<span style="color:#f92672">.</span>append(transaction)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Update portfolio</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> transaction_type <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;buy&#34;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#75715e"># Calculate new cost basis</span>
</span></span><span style="display:flex;"><span>                current_shares <span style="color:#f92672">=</span> portfolio[ticker][<span style="color:#e6db74">&#34;shares&#34;</span>]
</span></span><span style="display:flex;"><span>                current_basis <span style="color:#f92672">=</span> portfolio[ticker][<span style="color:#e6db74">&#34;cost_basis&#34;</span>]
</span></span><span style="display:flex;"><span>                new_shares <span style="color:#f92672">=</span> current_shares <span style="color:#f92672">+</span> shares
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> new_shares <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:  <span style="color:#75715e"># Avoid division by zero</span>
</span></span><span style="display:flex;"><span>                    new_basis <span style="color:#f92672">=</span> (current_shares <span style="color:#f92672">*</span> current_basis <span style="color:#f92672">+</span> shares <span style="color:#f92672">*</span> price) <span style="color:#f92672">/</span> new_shares
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                    new_basis <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                portfolio[ticker][<span style="color:#e6db74">&#34;shares&#34;</span>] <span style="color:#f92672">+=</span> shares
</span></span><span style="display:flex;"><span>                portfolio[ticker][<span style="color:#e6db74">&#34;cost_basis&#34;</span>] <span style="color:#f92672">=</span> new_basis
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">elif</span> transaction_type <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;sell&#34;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> portfolio[ticker][<span style="color:#e6db74">&#34;shares&#34;</span>] <span style="color:#f92672">&lt;</span> shares:
</span></span><span style="display:flex;"><span>                    print(<span style="color:#e6db74">&#34;Error: Not enough shares.&#34;</span>)
</span></span><span style="display:flex;"><span>                    transactions<span style="color:#f92672">.</span>pop()  <span style="color:#75715e"># Remove the last transaction</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>                portfolio[ticker][<span style="color:#e6db74">&#34;shares&#34;</span>] <span style="color:#f92672">-=</span> shares
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Transaction recorded. You now have </span><span style="color:#e6db74">{</span>portfolio[ticker][<span style="color:#e6db74">&#39;shares&#39;</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74"> shares of </span><span style="color:#e6db74">{</span>ticker<span style="color:#e6db74">}</span><span style="color:#e6db74">.&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;3&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> portfolio:
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34;Portfolio is empty.&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Current Portfolio:&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Ticker&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Company&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;20</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Sector&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;15</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Shares&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;8</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Cost Basis&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;12</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Current&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;9</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Value&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;12</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Gain/Loss&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;10</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            total_value <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> ticker, data <span style="color:#f92672">in</span> portfolio<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>                shares <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#34;shares&#34;</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> shares <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:  <span style="color:#75715e"># Only show stocks we still own</span>
</span></span><span style="display:flex;"><span>                    cost_basis <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#34;cost_basis&#34;</span>]
</span></span><span style="display:flex;"><span>                    current <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#34;current_price&#34;</span>]
</span></span><span style="display:flex;"><span>                    value <span style="color:#f92672">=</span> shares <span style="color:#f92672">*</span> current
</span></span><span style="display:flex;"><span>                    gain_loss <span style="color:#f92672">=</span> value <span style="color:#f92672">-</span> (shares <span style="color:#f92672">*</span> cost_basis)
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>ticker<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>data[<span style="color:#e6db74">&#39;company&#39;</span>][:<span style="color:#ae81ff">20</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;20</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>data[<span style="color:#e6db74">&#39;sector&#39;</span>][:<span style="color:#ae81ff">15</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;15</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>shares<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;8</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>cost_basis<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;10.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>current<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;7.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>value<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;10.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>gain_loss<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;8.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>                    total_value <span style="color:#f92672">+=</span> value
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total Portfolio Value: $</span><span style="color:#e6db74">{</span>total_value<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;4&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> transactions:
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34;No transactions recorded.&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Transaction History:&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Date&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;12</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Ticker&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Type&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Shares&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;8</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Price&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;8</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Total&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;12</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">55</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> date, ticker, trans_type, shares, price <span style="color:#f92672">in</span> transactions:
</span></span><span style="display:flex;"><span>                total <span style="color:#f92672">=</span> shares <span style="color:#f92672">*</span> price
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>date<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;12</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>ticker<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>trans_type<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>shares<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;8</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>price<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>total<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;10.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;5&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> portfolio:
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">&#34;Portfolio is empty.&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Use a list to sort holdings by value</span>
</span></span><span style="display:flex;"><span>            holdings <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> ticker, data <span style="color:#f92672">in</span> portfolio<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> data[<span style="color:#e6db74">&#34;shares&#34;</span>] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>                    value <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#34;shares&#34;</span>] <span style="color:#f92672">*</span> data[<span style="color:#e6db74">&#34;current_price&#34;</span>]
</span></span><span style="display:flex;"><span>                    holdings<span style="color:#f92672">.</span>append((ticker, data[<span style="color:#e6db74">&#34;company&#34;</span>], value))
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Sort by value (descending)</span>
</span></span><span style="display:flex;"><span>            holdings<span style="color:#f92672">.</span>sort(key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x: x[<span style="color:#ae81ff">2</span>], reverse<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Top Holdings:&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Rank&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;5</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Ticker&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Company&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;20</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span><span style="color:#e6db74">&#39;Value&#39;</span><span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;12</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">45</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> i, (ticker, company, value) <span style="color:#f92672">in</span> enumerate(holdings[:<span style="color:#ae81ff">5</span>], <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>                print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;5</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>ticker<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;6</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>company[:<span style="color:#ae81ff">20</span>]<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;20</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> $</span><span style="color:#e6db74">{</span>value<span style="color:#e6db74">:</span><span style="color:#e6db74">&lt;10.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> choice <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;6&#34;</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Thank you for using Portfolio Tracker!&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Invalid choice. Please try again.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Run the application</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    portfolio_tracker()
</span></span></code></pre></div><p>This example demonstrates:</p>
<ul>
<li>Dictionaries for storing portfolio data</li>
<li>Lists for transaction history</li>
<li>Tuples for individual transactions</li>
<li>Sorting and filtering data</li>
<li>Calculating values based on stored data</li>
</ul>
<hr>
<h2 id="whats-next">What&rsquo;s Next?</h2>
<p>Now that we&rsquo;ve covered Python&rsquo;s core data structures, the next post will explore functions, modules, and file I/Oessential tools for organising your code and working with external data.</p>
<p>Stay tuned for Post 5: Functions, Modules &amp; File I/O!</p>
<hr>
<p><em>This post is part of my journey learning Python. I&rsquo;m a chartered accountant exploring programming to enhance my analytical toolkit. If you have questions or spot any errors, please reach out.</em></p>
]]></content:encoded></item><item><title>Part 3: Python Syntax Fundamentals &amp; Language Features</title><link>https://michaelbrunger.com/python-syntax-fundamentals/</link><pubDate>Fri, 09 May 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-syntax-fundamentals/</guid><description>Master Python&amp;#39;s core syntax including variables, data types, control flow, comprehensions, lambdas, iterators, generators, and basic error handling mechanisms.</description><content:encoded><![CDATA[<h1 id="post-3-python-syntax-fundamentals--language-features">Post 3: Python Syntax Fundamentals &amp; Language Features</h1>
<p>Welcome to the third post in my Python learning journey. In the first two posts, we installed Python and set up a proper development environment. Now it&rsquo;s time to dive into the language itself. This post covers the fundamental building blocks of Python code that I&rsquo;ve been learning.</p>
<p>We&rsquo;ll explore:</p>
<ol>
<li>Variables and basic data types</li>
<li>Operators and expressions</li>
<li>Control flow with conditionals and loops</li>
<li>List comprehensions and lambdas</li>
<li>Iterators and generators</li>
<li>Error handling with try/except</li>
</ol>
<p>This post is a bit longer than the previous ones, but these fundamentals form the foundation of everything else in Python, so it&rsquo;s worth taking the time to understand them.</p>
<hr>
<h2 id="1-variables-and-basic-data-types">1. Variables and Basic Data Types</h2>
<p>Python is dynamically typed, meaning you don&rsquo;t need to declare variable types explicitly. Coming from Excel formulas where everything just works, I found this quite intuitive.</p>
<h3 id="11-variables-and-assignment">1.1 Variables and Assignment</h3>
<p>Variables in Python are created when you first assign a value to them:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Creating variables</span>
</span></span><span style="display:flex;"><span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Alex&#34;</span>
</span></span><span style="display:flex;"><span>age <span style="color:#f92672">=</span> <span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>hourly_rate <span style="color:#f92672">=</span> <span style="color:#ae81ff">45.50</span>
</span></span><span style="display:flex;"><span>is_python_fun <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span></code></pre></div><p>Variable names:</p>
<ul>
<li>Can contain letters, numbers, and underscores</li>
<li>Cannot start with a number</li>
<li>Are case-sensitive (<code>rate</code> and <code>Rate</code> are different variables)</li>
<li>Should follow the <code>snake_case</code> convention (lowercase with underscores)</li>
</ul>
<h3 id="12-basic-data-types">1.2 Basic Data Types</h3>
<p>Python has several built-in data types:</p>
<h4 id="numbers">Numbers</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Integers (whole numbers)</span>
</span></span><span style="display:flex;"><span>count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>negative_number <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Floating-point (decimals)</span>
</span></span><span style="display:flex;"><span>pi <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.14159</span>
</span></span><span style="display:flex;"><span>discount_rate <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.15</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Complex numbers</span>
</span></span><span style="display:flex;"><span>complex_number <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span>j  <span style="color:#75715e"># Not often used in business applications</span>
</span></span></code></pre></div><h4 id="strings">Strings</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Text enclosed in quotes (single or double)</span>
</span></span><span style="display:flex;"><span>first_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;John&#34;</span>
</span></span><span style="display:flex;"><span>last_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Doe&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Multi-line strings use triple quotes</span>
</span></span><span style="display:flex;"><span>address <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;123 Main Street
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Anytown, CA 12345&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># String concatenation</span>
</span></span><span style="display:flex;"><span>full_name <span style="color:#f92672">=</span> first_name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> last_name  <span style="color:#75715e"># &#34;John Doe&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># f-strings (Python 3.6+) - my preferred way to format strings</span>
</span></span><span style="display:flex;"><span>greeting <span style="color:#f92672">=</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Hello, </span><span style="color:#e6db74">{</span>first_name<span style="color:#e6db74">}</span><span style="color:#e6db74">! You are </span><span style="color:#e6db74">{</span>age<span style="color:#e6db74">}</span><span style="color:#e6db74"> years old.&#34;</span>
</span></span></code></pre></div><h4 id="booleans">Booleans</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># True or False values</span>
</span></span><span style="display:flex;"><span>is_active <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>has_paid <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Boolean operations</span>
</span></span><span style="display:flex;"><span>is_valid_customer <span style="color:#f92672">=</span> is_active <span style="color:#f92672">and</span> has_paid  <span style="color:#75715e"># False</span>
</span></span><span style="display:flex;"><span>can_contact <span style="color:#f92672">=</span> is_active <span style="color:#f92672">or</span> has_paid  <span style="color:#75715e"># True</span>
</span></span><span style="display:flex;"><span>is_not_active <span style="color:#f92672">=</span> <span style="color:#f92672">not</span> is_active  <span style="color:#75715e"># False</span>
</span></span></code></pre></div><h4 id="none-type">None Type</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Represents absence of value (similar to NULL in databases)</span>
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><h3 id="13-type-conversion">1.3 Type Conversion</h3>
<p>Python can convert between types:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># String to number</span>
</span></span><span style="display:flex;"><span>age_str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;35&#34;</span>
</span></span><span style="display:flex;"><span>age_num <span style="color:#f92672">=</span> int(age_str)  <span style="color:#75715e"># 35 as integer</span>
</span></span><span style="display:flex;"><span>price_float <span style="color:#f92672">=</span> float(<span style="color:#e6db74">&#34;45.50&#34;</span>)  <span style="color:#75715e"># 45.5 as float</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Number to string</span>
</span></span><span style="display:flex;"><span>count_str <span style="color:#f92672">=</span> str(<span style="color:#ae81ff">10</span>)  <span style="color:#75715e"># &#34;10&#34; as string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check type of a variable</span>
</span></span><span style="display:flex;"><span>print(type(age_num))  <span style="color:#75715e"># &lt;class &#39;int&#39;&gt;</span>
</span></span></code></pre></div><hr>
<h2 id="2-operators-and-expressions">2. Operators and Expressions</h2>
<p>Python supports various operators for calculations and comparisons.</p>
<h3 id="21-arithmetic-operators">2.1 Arithmetic Operators</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>addition <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b        <span style="color:#75715e"># 13</span>
</span></span><span style="display:flex;"><span>subtraction <span style="color:#f92672">=</span> a <span style="color:#f92672">-</span> b     <span style="color:#75715e"># 7</span>
</span></span><span style="display:flex;"><span>multiplication <span style="color:#f92672">=</span> a <span style="color:#f92672">*</span> b  <span style="color:#75715e"># 30</span>
</span></span><span style="display:flex;"><span>division <span style="color:#f92672">=</span> a <span style="color:#f92672">/</span> b        <span style="color:#75715e"># 3.3333... (always returns float)</span>
</span></span><span style="display:flex;"><span>floor_division <span style="color:#f92672">=</span> a <span style="color:#f92672">//</span> b <span style="color:#75715e"># 3 (integer division, rounds down)</span>
</span></span><span style="display:flex;"><span>modulus <span style="color:#f92672">=</span> a <span style="color:#f92672">%</span> b         <span style="color:#75715e"># 1 (remainder of division)</span>
</span></span><span style="display:flex;"><span>exponent <span style="color:#f92672">=</span> a <span style="color:#f92672">**</span> b       <span style="color:#75715e"># 1000 (10 raised to power of 3)</span>
</span></span></code></pre></div><h3 id="22-comparison-operators">2.2 Comparison Operators</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>equal <span style="color:#f92672">=</span> a <span style="color:#f92672">==</span> b              <span style="color:#75715e"># False</span>
</span></span><span style="display:flex;"><span>not_equal <span style="color:#f92672">=</span> a <span style="color:#f92672">!=</span> b          <span style="color:#75715e"># True</span>
</span></span><span style="display:flex;"><span>greater_than <span style="color:#f92672">=</span> a <span style="color:#f92672">&gt;</span> b        <span style="color:#75715e"># True</span>
</span></span><span style="display:flex;"><span>less_than <span style="color:#f92672">=</span> a <span style="color:#f92672">&lt;</span> b           <span style="color:#75715e"># False</span>
</span></span><span style="display:flex;"><span>greater_or_equal <span style="color:#f92672">=</span> a <span style="color:#f92672">&gt;=</span> b   <span style="color:#75715e"># True</span>
</span></span><span style="display:flex;"><span>less_or_equal <span style="color:#f92672">=</span> a <span style="color:#f92672">&lt;=</span> b      <span style="color:#75715e"># False</span>
</span></span></code></pre></div><h3 id="23-assignment-operators">2.3 Assignment Operators</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Simple assignment</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Combined operators</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">+=</span> <span style="color:#ae81ff">5</span>   <span style="color:#75715e"># Same as x = x + 5 (x becomes 15)</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">-=</span> <span style="color:#ae81ff">3</span>   <span style="color:#75715e"># Same as x = x - 3 (x becomes 12)</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">*=</span> <span style="color:#ae81ff">2</span>   <span style="color:#75715e"># Same as x = x * 2 (x becomes 24)</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">/=</span> <span style="color:#ae81ff">4</span>   <span style="color:#75715e"># Same as x = x / 4 (x becomes 6.0)</span>
</span></span></code></pre></div><hr>
<h2 id="3-control-flow">3. Control Flow</h2>
<p>Control flow determines the order in which code executes based on conditions and loops.</p>
<h3 id="31-conditional-statements-ifelifelse">3.1 Conditional Statements (if/elif/else)</h3>
<p>Python uses indentation (whitespace) to define code blocks:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>age <span style="color:#f92672">=</span> <span style="color:#ae81ff">25</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> age <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">18</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Minor&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> age <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">65</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Adult&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Senior&#34;</span>)
</span></span></code></pre></div><p>Multiple conditions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>income <span style="color:#f92672">=</span> <span style="color:#ae81ff">75000</span>
</span></span><span style="display:flex;"><span>years_employed <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> income <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">50000</span> <span style="color:#f92672">and</span> years_employed <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Loan approved&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> income <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">30000</span> <span style="color:#f92672">or</span> years_employed <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">5</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Further review needed&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Loan denied&#34;</span>)
</span></span></code></pre></div><h3 id="32-loops">3.2 Loops</h3>
<h4 id="for-loops">For Loops</h4>
<p>For loops iterate over sequences (lists, strings, etc.):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Loop through a list</span>
</span></span><span style="display:flex;"><span>expenses <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1200</span>, <span style="color:#ae81ff">450</span>, <span style="color:#ae81ff">700</span>, <span style="color:#ae81ff">95</span>]
</span></span><span style="display:flex;"><span>total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> expense <span style="color:#f92672">in</span> expenses:
</span></span><span style="display:flex;"><span>    total <span style="color:#f92672">+=</span> expense
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Total expenses: $</span><span style="color:#e6db74">{</span>total<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)  <span style="color:#75715e"># Total expenses: $2445</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Loop with a range</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):  <span style="color:#75715e"># 0, 1, 2, 3, 4</span>
</span></span><span style="display:flex;"><span>    print(i)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Loop with index and value using enumerate</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> index, value <span style="color:#f92672">in</span> enumerate(expenses):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Expense </span><span style="color:#e6db74">{</span>index<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: $</span><span style="color:#e6db74">{</span>value<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><h4 id="while-loops">While Loops</h4>
<p>While loops execute as long as a condition is true:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> count <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>:
</span></span><span style="display:flex;"><span>    print(count)
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>  <span style="color:#75715e"># Don&#39;t forget this or you&#39;ll create an infinite loop!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Break and continue</span>
</span></span><span style="display:flex;"><span>number <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:  <span style="color:#75715e"># Infinite loop</span>
</span></span><span style="display:flex;"><span>    number <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> number <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">continue</span>  <span style="color:#75715e"># Skip the rest of this iteration</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> number <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>  <span style="color:#75715e"># Exit the loop entirely</span>
</span></span><span style="display:flex;"><span>    print(number)  <span style="color:#75715e"># Prints 1, 2, 4, 5</span>
</span></span></code></pre></div><hr>
<h2 id="4-list-comprehensions-and-lambdas">4. List Comprehensions and Lambdas</h2>
<p>These are more advanced features that make Python code concise and expressive.</p>
<h3 id="41-list-comprehensions">4.1 List Comprehensions</h3>
<p>List comprehensions provide a compact way to create lists:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Traditional way</span>
</span></span><span style="display:flex;"><span>numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>squares <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> numbers:
</span></span><span style="display:flex;"><span>    squares<span style="color:#f92672">.</span>append(n <span style="color:#f92672">*</span> n)
</span></span><span style="display:flex;"><span>print(squares)  <span style="color:#75715e"># [1, 4, 9, 16, 25]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># With list comprehension</span>
</span></span><span style="display:flex;"><span>squares <span style="color:#f92672">=</span> [n <span style="color:#f92672">*</span> n <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> numbers]
</span></span><span style="display:flex;"><span>print(squares)  <span style="color:#75715e"># [1, 4, 9, 16, 25]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># With conditional filtering</span>
</span></span><span style="display:flex;"><span>even_squares <span style="color:#f92672">=</span> [n <span style="color:#f92672">*</span> n <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> numbers <span style="color:#66d9ef">if</span> n <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>print(even_squares)  <span style="color:#75715e"># [4, 16]</span>
</span></span></code></pre></div><h3 id="42-dictionary-and-set-comprehensions">4.2 Dictionary and Set Comprehensions</h3>
<p>Similar syntax works for dictionaries and sets:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Dictionary comprehension</span>
</span></span><span style="display:flex;"><span>number_to_square <span style="color:#f92672">=</span> {n: n <span style="color:#f92672">*</span> n <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> numbers}
</span></span><span style="display:flex;"><span>print(number_to_square)  <span style="color:#75715e"># {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set comprehension (eliminates duplicates)</span>
</span></span><span style="display:flex;"><span>values <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>unique_values <span style="color:#f92672">=</span> {v <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> values}
</span></span><span style="display:flex;"><span>print(unique_values)  <span style="color:#75715e"># {1, 2, 3, 4, 5}</span>
</span></span></code></pre></div><h3 id="43-lambda-functions">4.3 Lambda Functions</h3>
<p>Lambdas are small anonymous functions defined with the <code>lambda</code> keyword:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Traditional function</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(a, b):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Equivalent lambda function</span>
</span></span><span style="display:flex;"><span>add_lambda <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> a, b: a <span style="color:#f92672">+</span> b
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(add(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))        <span style="color:#75715e"># 5</span>
</span></span><span style="display:flex;"><span>print(add_lambda(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)) <span style="color:#75715e"># 5</span>
</span></span></code></pre></div><p>Lambdas are often used with functions like <code>map()</code>, <code>filter()</code>, and <code>sorted()</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Map applies a function to each item in an iterable</span>
</span></span><span style="display:flex;"><span>numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>squared <span style="color:#f92672">=</span> list(map(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">*</span> x, numbers))
</span></span><span style="display:flex;"><span>print(squared)  <span style="color:#75715e"># [1, 4, 9, 16, 25]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Filter creates a list of elements for which a function returns True</span>
</span></span><span style="display:flex;"><span>even_numbers <span style="color:#f92672">=</span> list(filter(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>, numbers))
</span></span><span style="display:flex;"><span>print(even_numbers)  <span style="color:#75715e"># [2, 4]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Sorted with a custom key function</span>
</span></span><span style="display:flex;"><span>employees <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    {<span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Alice&#34;</span>, <span style="color:#e6db74">&#34;salary&#34;</span>: <span style="color:#ae81ff">60000</span>},
</span></span><span style="display:flex;"><span>    {<span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#e6db74">&#34;salary&#34;</span>: <span style="color:#ae81ff">50000</span>},
</span></span><span style="display:flex;"><span>    {<span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Charlie&#34;</span>, <span style="color:#e6db74">&#34;salary&#34;</span>: <span style="color:#ae81ff">75000</span>}
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>sorted_by_salary <span style="color:#f92672">=</span> sorted(employees, key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> emp: emp[<span style="color:#e6db74">&#34;salary&#34;</span>])
</span></span><span style="display:flex;"><span>print(sorted_by_salary)  <span style="color:#75715e"># Sorts employees by salary</span>
</span></span></code></pre></div><hr>
<h2 id="5-iterators-and-generators">5. Iterators and Generators</h2>
<p>These features help process data efficiently, especially when working with large datasets.</p>
<h3 id="51-iterators">5.1 Iterators</h3>
<p>An iterator is an object that can be iterated (looped) over. Python&rsquo;s <code>for</code> loops work with iterators:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Lists, tuples, dictionaries, and sets are all iterable</span>
</span></span><span style="display:flex;"><span>numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> numbers:  <span style="color:#75715e"># numbers.__iter__() is called implicitly</span>
</span></span><span style="display:flex;"><span>    print(num)
</span></span></code></pre></div><p>You can create your own iterator:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Manual iteration with iter() and next()</span>
</span></span><span style="display:flex;"><span>numbers <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>iterator <span style="color:#f92672">=</span> iter(numbers)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(next(iterator))  <span style="color:#75715e"># 1</span>
</span></span><span style="display:flex;"><span>print(next(iterator))  <span style="color:#75715e"># 2</span>
</span></span><span style="display:flex;"><span>print(next(iterator))  <span style="color:#75715e"># 3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># print(next(iterator))  # Would raise StopIteration exception</span>
</span></span></code></pre></div><h3 id="52-generators">5.2 Generators</h3>
<p>Generators are functions that return an iterator using the <code>yield</code> keyword:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_up_to</span>(max):
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> count <span style="color:#f92672">&lt;=</span> max:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> count
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Using the generator</span>
</span></span><span style="display:flex;"><span>counter <span style="color:#f92672">=</span> count_up_to(<span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>print(next(counter))  <span style="color:#75715e"># 1</span>
</span></span><span style="display:flex;"><span>print(next(counter))  <span style="color:#75715e"># 2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Or in a loop</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> number <span style="color:#f92672">in</span> count_up_to(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    print(number)  <span style="color:#75715e"># Prints 1, 2, 3</span>
</span></span></code></pre></div><p>Generators are memory-efficient because they generate values on-demand rather than storing the entire sequence in memory. This is especially useful for large datasets.</p>
<hr>
<h2 id="6-error-handling-with-tryexcept">6. Error Handling with try/except</h2>
<p>Python uses exceptions to handle errors gracefully:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Basic try/except</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># Division by zero raises an exception</span>
</span></span><span style="display:flex;"><span>    print(result)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Cannot divide by zero!&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Handling multiple exception types</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    number <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter a number: &#34;</span>))
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">/</span> number
</span></span><span style="display:flex;"><span>    print(result)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;That&#39;s not a valid number!&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Cannot divide by zero!&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Try/except/else/finally</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    file <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;data.txt&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span>)
</span></span><span style="display:flex;"><span>    content <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">FileNotFoundError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;File not found!&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Runs if no exception occurred</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;File content: </span><span style="color:#e6db74">{</span>content<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Always runs, regardless of exception</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;file&#39;</span> <span style="color:#f92672">in</span> locals() <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> file<span style="color:#f92672">.</span>closed:
</span></span><span style="display:flex;"><span>        file<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;File closed!&#34;</span>)
</span></span></code></pre></div><hr>
<h2 id="practice-exercise-financial-calculator">Practice Exercise: Financial Calculator</h2>
<p>Let&rsquo;s apply what we&rsquo;ve learned to build a simple financial calculator:</p>
<p>Create a program that:</p>
<ol>
<li>Asks the user for their monthly income and expenses</li>
<li>Calculates their monthly savings</li>
<li>Projects savings over time with compound interest</li>
<li>Handles invalid inputs gracefully with try/except</li>
</ol>
<p>Here&rsquo;s a starter template:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_savings_projection</span>(monthly_savings, annual_interest_rate, years):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Convert annual interest rate to monthly and decimal</span>
</span></span><span style="display:flex;"><span>    monthly_rate <span style="color:#f92672">=</span> annual_interest_rate <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>    months <span style="color:#f92672">=</span> years <span style="color:#f92672">*</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Project savings</span>
</span></span><span style="display:flex;"><span>    total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> month <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, months <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>        total <span style="color:#f92672">=</span> total <span style="color:#f92672">+</span> monthly_savings  <span style="color:#75715e"># Add monthly contribution</span>
</span></span><span style="display:flex;"><span>        interest <span style="color:#f92672">=</span> total <span style="color:#f92672">*</span> monthly_rate  <span style="color:#75715e"># Calculate interest</span>
</span></span><span style="display:flex;"><span>        total <span style="color:#f92672">=</span> total <span style="color:#f92672">+</span> interest         <span style="color:#75715e"># Add interest to total</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Print yearly totals</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> month <span style="color:#f92672">%</span> <span style="color:#ae81ff">12</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Year </span><span style="color:#e6db74">{</span>month <span style="color:#f92672">//</span> <span style="color:#ae81ff">12</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: $</span><span style="color:#e6db74">{</span>total<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    income <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Enter your monthly income: $&#34;</span>))
</span></span><span style="display:flex;"><span>    expenses <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Enter your monthly expenses: $&#34;</span>))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    monthly_savings <span style="color:#f92672">=</span> income <span style="color:#f92672">-</span> expenses
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> monthly_savings <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Your expenses exceed your income. No savings to project.&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        interest_rate <span style="color:#f92672">=</span> float(input(<span style="color:#e6db74">&#34;Enter annual interest rate (%): &#34;</span>))
</span></span><span style="display:flex;"><span>        years <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Enter number of years to project: &#34;</span>))
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Monthly savings: $</span><span style="color:#e6db74">{</span>monthly_savings<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Projecting growth over </span><span style="color:#e6db74">{</span>years<span style="color:#e6db74">}</span><span style="color:#e6db74"> years at </span><span style="color:#e6db74">{</span>interest_rate<span style="color:#e6db74">}</span><span style="color:#e6db74">% annual interest:&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        final_amount <span style="color:#f92672">=</span> calculate_savings_projection(monthly_savings, interest_rate, years)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Final savings after </span><span style="color:#e6db74">{</span>years<span style="color:#e6db74">}</span><span style="color:#e6db74"> years: $</span><span style="color:#e6db74">{</span>final_amount<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Please enter valid numbers only.&#34;</span>)
</span></span></code></pre></div><hr>
<h2 id="whats-next">What&rsquo;s Next?</h2>
<p>Now that we&rsquo;ve covered the syntax fundamentals, the next post will dive into Python&rsquo;s core data structures in more detail. We&rsquo;ll explore lists, tuples, dictionaries, and setsand when to use each one.</p>
<p>Stay tuned for Post 4: Core Data Structures!</p>
<hr>
<p>*This post is part of my journey learning Python. I&rsquo;m a chartered accountant exploring programming to enhance my analytical toolkit. If you have questions or spot any errors, please reach out</p>
]]></content:encoded></item><item><title>Part 2: Text Editors vs. IDEs for Python Development</title><link>https://michaelbrunger.com/python-foundations-editors-ides/</link><pubDate>Thu, 01 May 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-foundations-editors-ides/</guid><description>Compare lightweight text editors to full-featured IDEs for Python development. Learn how to set up VS Code with essential Python extensions and discover effective debugging techniques.</description><content:encoded><![CDATA[<h1 id="post-2-text-editors-vs-ides-for-python-development">Post 2: Text Editors vs. IDEs for Python Development</h1>
<p>Welcome to the second post in my Python learning series. Last time, we got Python installed and ran our first code. Now it&rsquo;s time to set up a proper coding environment. Working directly with <code>.py</code> files in Notepad gets tedious quickly, so let&rsquo;s explore better options for writing Python code.</p>
<p>In this post, we&rsquo;ll cover:</p>
<ol>
<li>The difference between text editors and IDEs</li>
<li>Popular options for Python development</li>
<li>Setting up VS Code for Python (my personal choice)</li>
<li>Key productivity features that will save you time</li>
<li>Running and debugging Python code from your editor</li>
</ol>
<hr>
<h2 id="1-text-editors-vs-ides-whats-the-difference">1. Text Editors vs. IDEs: What&rsquo;s the Difference?</h2>
<p>When I started learning Python, I was confused about whether to use a &ldquo;text editor&rdquo; or an &ldquo;IDE&rdquo;. Here&rsquo;s the simple breakdown:</p>
<p><strong>Text Editors</strong>:</p>
<ul>
<li>Lightweight applications primarily designed for editing text</li>
<li>Minimal features out of the box, but often extensible with plugins</li>
<li>Faster startup times and lower system resource usage</li>
<li>Examples: Notepad++, Sublime Text, Atom</li>
</ul>
<p><strong>Integrated Development Environments (IDEs)</strong>:</p>
<ul>
<li>Comprehensive software packages with built-in tools for development</li>
<li>Include code completion, debugging, testing, and version control features</li>
<li>More resource-intensive but offer productivity benefits</li>
<li>Examples: PyCharm, Visual Studio, Eclipse</li>
</ul>
<p>Modern text editors with plugins can blur the line between these categories. For instance, VS Code is technically a text editor but can function like an IDE with the right extensions.</p>
<hr>
<h2 id="2-popular-options-for-python-development">2. Popular Options for Python Development</h2>
<p>Here are some commonly used tools for Python programming:</p>
<h3 id="text-editors">Text Editors</h3>
<p><strong>Notepad++</strong> (Windows only)</p>
<ul>
<li>Free and lightweight</li>
<li>Basic syntax highlighting for Python</li>
<li>Minimal Python-specific features</li>
<li>Good for quick edits but limited for larger projects</li>
</ul>
<p><strong>Sublime Text</strong></p>
<ul>
<li>Cross-platform (Windows, macOS, Linux)</li>
<li>Fast and responsive with large files</li>
<li>Package manager for extensions</li>
<li>Free to evaluate, $99 license for continued use</li>
</ul>
<p><strong>Atom</strong></p>
<ul>
<li>Open-source and free</li>
<li>Highly customisable</li>
<li>Good Git integration</li>
<li>Can be slower with large projects</li>
</ul>
<h3 id="ides">IDEs</h3>
<p><strong>Visual Studio Code (VS Code)</strong></p>
<ul>
<li>Free, open-source, cross-platform</li>
<li>Extensive extension library</li>
<li>Lightweight but powerful</li>
<li>Strong Python support through extensions</li>
<li>My personal choice and what we&rsquo;ll focus on in this post</li>
</ul>
<p><strong>PyCharm</strong></p>
<ul>
<li>Python-specific IDE by JetBrains</li>
<li>Community (free) and Professional (paid) editions</li>
<li>Comprehensive tools designed specifically for Python</li>
<li>Steeper learning curve but powerful features</li>
</ul>
<p><strong>Jupyter Notebooks</strong></p>
<ul>
<li>Interactive coding environment</li>
<li>Great for data analysis and visualisation</li>
<li>Documents that combine code, output, and markdown text</li>
<li>We&rsquo;ll cover this in detail in a later post</li>
</ul>
<p>After trying several options, I settled on VS Code for its balance of performance and features. It&rsquo;s lightweight enough to run smoothly on my machine but offers robust Python support.</p>
<hr>
<h2 id="3-setting-up-vs-code-for-python-development">3. Setting Up VS Code for Python Development</h2>
<p>If you&rsquo;re following along with me, let&rsquo;s set up VS Code:</p>
<h3 id="31-download-and-install-vs-code">3.1 Download and Install VS Code</h3>
<ol>
<li>Go to <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li>Download the installer for your operating system</li>
<li>Run the installer with default options</li>
</ol>
<h3 id="32-install-essential-python-extensions">3.2 Install Essential Python Extensions</h3>
<ol>
<li>Launch VS Code</li>
<li>Click the Extensions icon in the left sidebar (or press Ctrl+Shift+X)</li>
<li>Search for and install these extensions:
<ul>
<li><strong>Python</strong> by Microsoft (essential)</li>
<li><strong>Pylance</strong> for improved language support</li>
<li><strong>Python Indent</strong> for automatic indentation</li>
</ul>
</li>
</ol>
<h3 id="33-configure-python-interpreter">3.3 Configure Python Interpreter</h3>
<ol>
<li>Open a Python file or create a new one (File &gt; New File, then save with <code>.py</code> extension)</li>
<li>Click on &ldquo;Select Python Interpreter&rdquo; in the bottom status bar</li>
<li>Choose the Python installation you installed in Post 1</li>
</ol>
<h3 id="34-set-up-code-formatting-and-linting">3.4 Set Up Code Formatting and Linting</h3>
<p>These tools help maintain code quality and consistent style:</p>
<ol>
<li>
<p>Install the <strong>autopep8</strong> formatter:</p>
<ul>
<li>Open a terminal in VS Code (Terminal &gt; New Terminal)</li>
<li>Run: <code>pip install autopep8</code></li>
</ul>
</li>
<li>
<p>Configure formatter settings:</p>
<ul>
<li>Press Ctrl+Shift+P to open the command palette</li>
<li>Type &ldquo;Preferences: Open Settings (JSON)&rdquo;</li>
<li>Add these settings:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#e6db74">&#34;python.formatting.provider&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;autopep8&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;editor.formatOnSave&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;python.linting.enabled&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;python.linting.pylintEnabled&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#66d9ef">true</span>
</span></span></code></pre></div></li>
<li>
<p>Install Pylint for code quality checking:</p>
<ul>
<li>In the terminal, run: <code>pip install pylint</code></li>
</ul>
</li>
</ol>
<hr>
<h2 id="4-key-productivity-features">4. Key Productivity Features</h2>
<p>Here are some features that have saved me hours of time while learning Python:</p>
<h3 id="41-code-highlighting-and-intellisense">4.1 Code Highlighting and IntelliSense</h3>
<p>VS Code automatically highlights Python syntax and provides IntelliSense (code completion):</p>
<ul>
<li>Start typing a Python keyword or function name</li>
<li>VS Code shows suggestions as you type</li>
<li>Press Tab to complete the suggestion</li>
</ul>
<p>Try it by typing <code>pri</code> and watching it suggest <code>print()</code>.</p>
<h3 id="42-code-snippets">4.2 Code Snippets</h3>
<p>Snippets let you insert commonly used code patterns quickly:</p>
<ol>
<li>Type <code>if</code> and press Tab</li>
<li>VS Code inserts the <code>if</code> statement structure</li>
<li>Fill in the condition and press Tab to move to the body</li>
</ol>
<p>Other useful snippets: <code>for</code>, <code>def</code>, <code>class</code>, <code>try</code></p>
<h3 id="43-file-explorer-and-multiple-files">4.3 File Explorer and Multiple Files</h3>
<p>Having a file explorer helps manage projects with multiple files:</p>
<ol>
<li>Use File &gt; Open Folder to open your project directory</li>
<li>The left sidebar shows all files in that folder</li>
<li>Create new files or folders directly in VS Code</li>
</ol>
<h3 id="44-integrated-terminal">4.4 Integrated Terminal</h3>
<p>No need to switch between VS Code and Command Prompt:</p>
<ol>
<li>Press Ctrl+` (backtick) or use Terminal &gt; New Terminal</li>
<li>Run Python code, install packages, or use Git commands</li>
</ol>
<hr>
<h2 id="5-running-and-debugging-python-code">5. Running and Debugging Python Code</h2>
<h3 id="51-running-python-files">5.1 Running Python Files</h3>
<p>Method 1: Using the Play Button</p>
<ol>
<li>Open a Python file</li>
<li>Click the Play icon in the top-right corner</li>
</ol>
<p>Method 2: Using the Terminal</p>
<ol>
<li>Open the integrated terminal (Ctrl+`)</li>
<li>Run: <code>python your_file.py</code></li>
</ol>
<h3 id="52-introduction-to-debugging">5.2 Introduction to Debugging</h3>
<p>Debugging helps you find and fix errors in your code:</p>
<ol>
<li>Set a breakpoint by clicking in the margin to the left of a line number (a red dot appears)</li>
<li>Press F5 or click the Debug icon in the sidebar, then &ldquo;Start Debugging&rdquo;</li>
<li>Your code runs until it hits the breakpoint, then pauses</li>
<li>Examine variables in the &ldquo;Variables&rdquo; panel</li>
<li>Use the debug toolbar to step through code line by line</li>
</ol>
<h3 id="53-print-driven-debugging-vs-using-a-debugger">5.3 Print-Driven Debugging vs. Using a Debugger</h3>
<p>When I first started coding, I relied heavily on <code>print()</code> statements to understand what was happening in my code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate_total</span>(items):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Items received: </span><span style="color:#e6db74">{</span>items<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)  <span style="color:#75715e"># Debug print</span>
</span></span><span style="display:flex;"><span>    total <span style="color:#f92672">=</span> sum(items)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Calculated total: </span><span style="color:#e6db74">{</span>total<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)  <span style="color:#75715e"># Debug print</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total
</span></span></code></pre></div><p>While this works, using the debugger is more powerful:</p>
<ul>
<li>You can inspect all variables without modifying code</li>
<li>You can pause execution and examine the program state</li>
<li>You don&rsquo;t need to remove debug code when you&rsquo;re done</li>
</ul>
<hr>
<h2 id="practice-exercise">Practice Exercise</h2>
<p>Let&rsquo;s put your new environment to use:</p>
<ol>
<li>Create a new file called <code>calculator.py</code> in VS Code</li>
<li>Write a simple function that takes two numbers and an operation (add, subtract, multiply, divide) and returns the result</li>
<li>Add proper error handling (e.g., division by zero)</li>
<li>Use print statements to test your function with various inputs</li>
</ol>
<p><strong>Example solution</strong> (try it yourself first!):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculate</span>(a, b, operation):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> operation <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;add&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> operation <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;subtract&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">-</span> b
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> operation <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;multiply&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> b
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> operation <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;divide&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> b <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Error: Division by zero&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">/</span> b
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Error: Unknown operation&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Test the function</span>
</span></span><span style="display:flex;"><span>print(calculate(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#34;add&#34;</span>))       <span style="color:#75715e"># Should print 15</span>
</span></span><span style="display:flex;"><span>print(calculate(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#34;subtract&#34;</span>))  <span style="color:#75715e"># Should print 5</span>
</span></span><span style="display:flex;"><span>print(calculate(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#34;multiply&#34;</span>))  <span style="color:#75715e"># Should print 50</span>
</span></span><span style="display:flex;"><span>print(calculate(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#34;divide&#34;</span>))    <span style="color:#75715e"># Should print 2.0</span>
</span></span><span style="display:flex;"><span>print(calculate(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;divide&#34;</span>))    <span style="color:#75715e"># Should print error message</span>
</span></span></code></pre></div><p>Try using the debugger to step through this code and watch how the variables change.</p>
<hr>
<h2 id="whats-next">What&rsquo;s Next?</h2>
<p>Now that we have our Python development environment set up, we&rsquo;re ready to dive deeper into Python syntax and language features. In the next post, we&rsquo;ll explore variables, data types, control flow, and more fundamental Python concepts.</p>
<p>Stay tuned for Post 3: Python Syntax Fundamentals &amp; Language Features!</p>
<hr>
<p><em>This post is part of my journey learning Python. I&rsquo;m a chartered accountant exploring programming to enhance my analytical toolkit. If you have questions or spot any errors, please leave a comment below.</em></p>
]]></content:encoded></item><item><title>Part 1: Getting Started with Python on Windows</title><link>https://michaelbrunger.com/python-foundations-getting-started/</link><pubDate>Mon, 28 Apr 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-foundations-getting-started/</guid><description>Learn what Python is, install it on Windows, and write your first Python program in this introductory guide to the Python programming language.</description><content:encoded><![CDATA[<h1 id="post-1-getting-started-with-python-on-windows">Post 1: Getting Started with Python on Windows</h1>
<p>Welcome to the first post in my Python learning series. As I learn Python myself, I&rsquo;ll be documenting my journey here. This first post covers the essentials to get you up and running with Python on Windows:</p>
<ol>
<li>What Python is and why it&rsquo;s worth learning</li>
<li>Installing Python on Windows (with step-by-step instructions)</li>
<li>Quick install notes for macOS &amp; Linux users</li>
<li>Writing your first &ldquo;Hello, World!&rdquo; program</li>
<li>Using the Python interactive shell</li>
</ol>
<hr>
<h2 id="1-what-is-python-and-why-learn-it">1. What Is Python (and Why Learn It)?</h2>
<p>Python is a high-level, interpreted programming language that&rsquo;s gained enormous popularity for good reason. After looking into various languages, I chose to learn Python because:</p>
<ul>
<li><strong>Readability</strong>: Its clean syntax uses indentation and fewer symbols than languages like C++ or Java, making code easier to understand</li>
<li><strong>Versatility</strong>: It&rsquo;s used across multiple domains from web development (Django, Flask) to data analysis (NumPy, pandas) and automation</li>
<li><strong>Package ecosystem</strong>: PyPI (Python Package Index) hosts over 400,000 third-party packages that extend Python&rsquo;s capabilities</li>
<li><strong>Community support</strong>: Extensive documentation, forums, and tutorials make finding help straightforward</li>
</ul>
<p>For me as a finance professional, Python&rsquo;s data analysis capabilities are particularly valuable, but its applications stretch across many fields.</p>
<hr>
<h2 id="2-installing-python-on-windows">2. Installing Python on Windows</h2>
<p>Here&rsquo;s how to get Python installed on Windows 10/11:</p>
<h3 id="21-download-the-installer">2.1 Download the Installer</h3>
<ol>
<li>Visit the official Python download page: <a href="https://www.python.org/downloads/windows">https://www.python.org/downloads/windows</a></li>
<li>Click the button for the latest stable release (currently Python 3.11.x)</li>
</ol>
<h3 id="22-run-the-installer">2.2 Run the Installer</h3>
<ol>
<li>Locate and double-click the downloaded file (typically named python-3.x.x-amd64.exe)</li>
<li><strong>IMPORTANT</strong>: Check the box that says &ldquo;Add Python 3.x to PATH&rdquo; at the bottom of the installer
<ul>
<li>This allows you to run Python from any directory in Command Prompt</li>
</ul>
</li>
<li>Click &ldquo;Install Now&rdquo; for the standard installation, or &ldquo;Customise installation&rdquo; if you want to change specific options</li>
</ol>
<h3 id="23-verify-the-installation">2.3 Verify the Installation</h3>
<ol>
<li>Open Command Prompt (press Win + R, type <code>cmd</code>, and hit Enter)</li>
<li>Type the following command and press Enter:
<pre tabindex="0"><code>python --version
</code></pre></li>
<li>You should see output like:
<pre tabindex="0"><code>Python 3.11.4
</code></pre>(Your version number might differ)</li>
</ol>
<hr>
<h2 id="3-quick-notes-for-macos--linux">3. Quick Notes for macOS &amp; Linux</h2>
<ul>
<li>
<p><strong>macOS</strong>:</p>
<ul>
<li>Many Macs come with Python 2.7 preinstalled, but you&rsquo;ll want Python 3</li>
<li>The simplest approach is using Homebrew:
<pre tabindex="0"><code>brew install python
</code></pre></li>
<li>Alternatively, download the installer from python.org</li>
</ul>
</li>
<li>
<p><strong>Linux</strong>:</p>
<ul>
<li>Most Linux distributions include Python</li>
<li>For Ubuntu/Debian:
<pre tabindex="0"><code>sudo apt update
sudo apt install python3 python3-pip
</code></pre></li>
</ul>
</li>
</ul>
<p>For complete instructions, see the official Python documentation:</p>
<ul>
<li>macOS: <a href="https://docs.python.org/3/using/mac.html">https://docs.python.org/3/using/mac.html</a></li>
<li>Linux: <a href="https://docs.python.org/3/using/unix.html">https://docs.python.org/3/using/unix.html</a></li>
</ul>
<hr>
<h2 id="4-your-first-hello-world-script">4. Your First &ldquo;Hello, World!&rdquo; Script</h2>
<p>Time to write your first Python program:</p>
<ol>
<li>
<p>In Command Prompt, navigate to a folder where you want to create your script:</p>
<pre tabindex="0"><code>cd C:\Users\YourUsername\Documents
</code></pre></li>
<li>
<p>Create a new file named <code>hello.py</code> using any text editor (Notepad, VS Code, etc.)</p>
</li>
<li>
<p>Type this line in the file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Hello, World!&#34;</span>)
</span></span></code></pre></div></li>
<li>
<p>Save the file, then run it by typing in Command Prompt:</p>
<pre tabindex="0"><code>python hello.py
</code></pre></li>
<li>
<p>You should see:</p>
<pre tabindex="0"><code>Hello, World!
</code></pre></li>
</ol>
<p>Congratulationsyou&rsquo;ve written and executed your first Python program!</p>
<hr>
<h2 id="5-exploring-the-python-interactive-shell">5. Exploring the Python Interactive Shell</h2>
<p>Python comes with an interactive shell (also called a REPLRead-Evaluate-Print Loop) that lets you test code snippets immediately:</p>
<ol>
<li>
<p>In Command Prompt, simply type:</p>
<pre tabindex="0"><code>python
</code></pre></li>
<li>
<p>You&rsquo;ll see the Python prompt (<code>&gt;&gt;&gt;</code>) where you can type code directly:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Python&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;I&#39;m learning </span><span style="color:#e6db74">{</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">!&#34;</span>)
</span></span><span style="display:flex;"><span>I<span style="color:#e6db74">&#39;m learning Python!</span>
</span></span></code></pre></div></li>
<li>
<p>Try some basic math:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">7</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">5.0</span>
</span></span></code></pre></div></li>
<li>
<p>To exit, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> exit()
</span></span></code></pre></div><p>Or press Ctrl+Z followed by Enter on Windows.</p>
</li>
</ol>
<p>The interactive shell is excellent for quick experiments and calculations without creating a file.</p>
<hr>
<h2 id="practice-exercise">Practice Exercise</h2>
<p>Before moving on, try this quick exercise:</p>
<ol>
<li>Create a new Python file named <code>greeting.py</code></li>
<li>Write code that:
<ul>
<li>Assigns your name to a variable</li>
<li>Prints a greeting that includes your name</li>
</ul>
</li>
<li>Run the script to see the output</li>
</ol>
<p><strong>Example solution</strong> (don&rsquo;t peek until you&rsquo;ve tried!):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Alex&#34;</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Nice to meet you, </span><span style="color:#e6db74">{</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">!&#34;</span>)
</span></span></code></pre></div><hr>
<h2 id="whats-next">What&rsquo;s Next?</h2>
<p>Now that you have Python installed and have run your first code, you&rsquo;re ready to:</p>
<ul>
<li>Explore text editors and IDEs that will make coding more efficient (coming in Post 2)</li>
<li>Learn Python syntax fundamentals to build more complex programs</li>
<li>Begin solving real problems with your new skills</li>
</ul>
<p>Stay tuned for Post 2: Text Editors vs. IDEs for Python Development!</p>
<hr>
<p><em>This post is part of my journey learning Python. I&rsquo;m a chartered accountant exploring programming to enhance my analytical toolkit. If you have questions or spot any errors, please leave a comment below.</em></p>
]]></content:encoded></item><item><title>Python Learning Path: From Fundamentals to Intermediate Applications</title><link>https://michaelbrunger.com/python-learning-path/</link><pubDate>Sun, 27 Apr 2025 00:00:00 +0000</pubDate><guid>https://michaelbrunger.com/python-learning-path/</guid><description>A comprehensive 17-post curriculum taking you from Python installation to building real-world applications. Covers core language features, professional practices, data analysis tools, and practical project development.</description><content:encoded><![CDATA[<h2 id="my-python-learning-journey">My Python Learning Journey</h2>
<p>Welcome to my Python learning series! As a finance professional exploring programming, I&rsquo;m documenting my entire journey through 17 posts that take you from absolute beginner to building practical applications.</p>
<h2 id="what-to-expect-from-this-series">What to Expect from This Series</h2>
<p>This series is designed for fellow finance professionals and beginners who want to learn Python in a practical, step-by-step manner. Each post builds on previous concepts while introducing new skills.</p>
<h2 id="series-overview">Series Overview</h2>
<p>Here&rsquo;s what we&rsquo;ll cover throughout the 17 posts:</p>
<h2 id="foundations-posts-16">Foundations (Posts 16)</h2>
<h3 id="1-getting-started-with-python-on-windows">1. Getting Started with Python on Windows</h3>
<ul>
<li>What is Python, why learn it, and where it&rsquo;s used</li>
<li>Installing Python (stepbystep Windows installer with screenshots)</li>
<li>Quick pointers for macOS/Linux installs</li>
<li>Your first &ldquo;Hello, World!&rdquo; script</li>
<li>Exploring the interactive REPL (shell)</li>
</ul>
<h3 id="2-text-editors-vs-ides-for-python-development">2. Text Editors vs. IDEs for Python Development</h3>
<ul>
<li>Lightweight editors (Notepad++, Sublime) vs. full IDEs (VS Code, PyCharm)</li>
<li>Setting up VS Code for Python (extensions, linting, autoformat)</li>
<li>Code highlighting, IntelliSense/autocomplete, and snippets</li>
<li>Running and debugging code from your editor</li>
<li>Quick intro to IDEbased breakpoints vs. printdriven debugging</li>
</ul>
<h3 id="3-python-syntax-fundamentals--language-features">3. Python Syntax Fundamentals &amp; Language Features</h3>
<ul>
<li>Variables, data types (numbers, strings, booleans) and operators</li>
<li>Indentation and control flow (if/elif/else, loops)</li>
<li>Comprehensions &amp; lambdas: list/dict/set comprehensions, map/filter, anonymous functions</li>
<li>Iterators &amp; generators: the iterator protocol, writing your own with yield</li>
<li>Basic error handling: try/except, else/finally</li>
</ul>
<h3 id="4-core-data-structures">4. Core Data Structures</h3>
<ul>
<li>Lists: creation, indexing, slicing, methods</li>
<li>Tuples: immutability, packing/unpacking</li>
<li>Dictionaries: keyvalue access, common methods</li>
<li>Sets: uniqueness, union/intersection/difference</li>
<li>Choosing the right structure for the task</li>
</ul>
<h3 id="5-functions-modules--file-io">5. Functions, Modules &amp; File I/O</h3>
<ul>
<li>Defining and calling functions (def, return, positional vs. keyword args)</li>
<li>Variable scope and namespaces</li>
<li>Organising code into modules and packages</li>
<li>Exploring the Standard Library (math, random, datetime, os, sys)</li>
<li>Reading from/writing to text files with open() and the with statement</li>
</ul>
<h3 id="6-virtual-environments--packaging">6. Virtual Environments &amp; Packaging</h3>
<ul>
<li>Why virtual environments matter (avoiding dependency conflicts)</li>
<li>Creating/activating/deactivating venv on Windows (and notes for macOS/Linux)</li>
<li>Managing packages with pip: install, freeze, requirements.txt</li>
<li>Basic packaging: project structure, setup.py/pyproject.toml essentials</li>
<li>Publishing to PyPI with twine and versioning best practices</li>
</ul>
<hr>
<h2 id="professional-best-practices-posts-79">Professional Best Practices (Posts 79)</h2>
<h3 id="7-code-quality--collaboration">7. Code Quality &amp; Collaboration</h3>
<ul>
<li>Version control fundamentals with Git &amp; GitHub (clone, commit, push, pull requests)</li>
<li>Writing clean, PEP 8compliant code; linting with flake8</li>
<li>Autoformatting with black and organising imports with isort</li>
<li>Writing docstrings (Google vs. NumPy style) and autogenerating docs (Sphinx overview)</li>
</ul>
<h3 id="8-testing--debugging">8. Testing &amp; Debugging</h3>
<ul>
<li>Unit testing basics with unittest and pytest (assertions, test discovery)</li>
<li>Fixtures in pytest and intro to TDD workflows</li>
<li>Raising and defining custom exceptions (raise, subclassing Exception)</li>
<li>Using the debugger: pdb commands and IDEbased breakpoints</li>
<li>Structured logging with the logging module (levels, handlers, formatting)</li>
</ul>
<h3 id="9-commandline-tools--automation">9. CommandLine Tools &amp; Automation</h3>
<ul>
<li>Building CLI scripts with argparse: positional args, flags, help text</li>
<li>Packaging entry points (console_scripts) for installable commands</li>
<li>Automating file/folder tasks (os, shutil): renaming, organising, backups</li>
<li>Automating GUI interactions with PyAutoGUI (keyboard/mouse control)</li>
<li>Putting it all together in a sample automation project</li>
</ul>
<hr>
<h2 id="core-tools--data-posts-1013">Core Tools &amp; Data (Posts 1013)</h2>
<h3 id="10-the-python-ecosystem--interactive-data-workflows">10. The Python Ecosystem &amp; Interactive Data Workflows</h3>
<ul>
<li>Clarify package vs. environment managers: pip vs. conda vs. Anaconda</li>
<li>When and why to choose each (lightweight vs. datascience bundles)</li>
<li>Installing and exploring Anaconda Navigator</li>
<li>Jupyter Notebooks: installing via pip/Anaconda, notebook anatomy (code vs. Markdown), basic plots inline</li>
</ul>
<h3 id="11-numpy-fundamentals-for-numerical-data">11. NumPy Fundamentals for Numerical Data</h3>
<ul>
<li>Installing NumPy</li>
<li>The ndarray: creation, indexing, slicing</li>
<li>Vectorized operations and broadcasting rules</li>
<li>Performance comparison vs. pure Python lists</li>
</ul>
<h3 id="12-data-analysis-with-pandas">12. Data Analysis with pandas</h3>
<ul>
<li>Installing pandas</li>
<li>Understanding Series and DataFrame objects</li>
<li>Reading data (CSV, Excel), inspecting and summarising</li>
<li>Selection, filtering, grouping, transformation</li>
<li>Handling missing data</li>
</ul>
<h3 id="13-data-visualisation-basics">13. Data Visualisation Basics</h3>
<ul>
<li>Matplotlib core: line, scatter, bar, histogram plots</li>
<li>Customising labels, titles, legends</li>
<li>Seaborn intro: statistical plot types (boxplot, heatmap)</li>
<li>Saving figures to files for reports</li>
</ul>
<hr>
<h2 id="intermediate-applications-posts-1417">Intermediate Applications (Posts 1417)</h2>
<h3 id="14-introduction-to-objectoriented-programming-oop">14. Introduction to ObjectOriented Programming (OOP)</h3>
<ul>
<li>Classes vs. objects, attributes vs. methods</li>
<li>The init constructor and self</li>
<li>Encapsulation, inheritance and polymorphism (simple examples)</li>
<li>Why OOP matters: organising and reusing code</li>
</ul>
<h3 id="15-web-development-foundations">15. Web Development Foundations</h3>
<ul>
<li>Option A: Flask (lightweight): setting up, routes, templates, serving static files</li>
<li>Option B: Django (fullfeatured): project/app structure, admin interface, ORM intro</li>
<li>Option C: Web Scraping: requests + BeautifulSoup for HTML parsing</li>
<li>Deploying your first minimal web app on a free hosting platform (e.g., Heroku)</li>
</ul>
<h3 id="16-building-simple-gui-applications-with-tkinter">16. Building Simple GUI Applications with Tkinter</h3>
<ul>
<li>Installing/importing Tkinter (builtin)</li>
<li>Creating windows, labels, buttons, entry widgets</li>
<li>Layout managers (pack, grid)</li>
<li>A handson miniproject: e.g., basic calculator or temperature converter</li>
</ul>
<h3 id="17-next-steps--advanced-topics">17. Next Steps &amp; Advanced Topics</h3>
<ul>
<li>Concurrency &amp; async: when to use threads vs. processes (threading, multiprocessing), intro to asyncio</li>
<li>Endtoend miniproject ideas (combine web, data, GUI, testing)</li>
<li>Recommended books, courses, blogs, and community resources</li>
<li>Tips for staying sharp: code challenges, opensource contribution, local meetups</li>
</ul>
]]></content:encoded></item></channel></rss>